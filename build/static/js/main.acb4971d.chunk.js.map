{"version":3,"sources":["services/request.js","services/BasicService.js","services/auth.js","contexts/AuthContext.jsx","contexts/Snackbar/elements.jsx","contexts/Snackbar/SnackbarContext.jsx","shared/styles/colors.js","shared/components/Loader/Loader.jsx","services/management.js","services/nominations.js","services/participants.js","pages/Main/Header/elements.jsx","pages/Main/Header/Header.jsx","pages/Main/Header/HeaderContainer.jsx","pages/Login/elements.jsx","pages/Login/Login.jsx","pages/Nominations/elements.jsx","shared/propTypes/nominations.js","shared/assets/icons/arrow-down-right-circle.svg","pages/Nominations/Nominations.jsx","pages/Nominations/NominationsContainer.jsx","pages/Nomination/elements.jsx","shared/propTypes/participants.js","shared/propTypes/photo.js","shared/propTypes/user.js","shared/assets/icons/dash-circle.svg","shared/helpers/elements.jsx","shared/helpers/mark.js","pages/Nomination/Nomination.jsx","pages/Nomination/NominationContainer.jsx","pages/Participant/elements.jsx","pages/Participant/ParticipantMarks/elements.jsx","pages/Participant/ParticipantMarks/ParticipantMarks.jsx","pages/Participant/Participant.jsx","pages/Participant/ParticipantContainer.jsx","shared/assets/icons/star.svg","shared/assets/icons/star-fill.svg","shared/assets/icons/arrow-left-circle-fill.svg","pages/ParticipantPhoto/elements.jsx","shared/assets/icons/arrow-right-circle-fill.svg","pages/ParticipantPhoto/ParticipantPhoto.jsx","services/photo.js","pages/Participants/elements.jsx","pages/Participants/Participants.jsx","pages/Home/elements.jsx","shared/assets/icons/trash-fill.svg","pages/Management/elements.jsx","pages/Management/CreateUserForm.jsx","pages/Management/Management.jsx","shared/assets/icons/file-earmark-arrow-down.svg","pages/JudgeProfile/elements.jsx","pages/JudgeProfile/JudgeProfile.jsx","pages/ManagementParticipants/elements.jsx","shared/assets/icons/check-circle.svg","pages/ManagementParticipants/ManagementParticipants.jsx","pages/FullViewPhoto/elements.jsx","pages/Main/routerConfig.js","pages/Home/Home.jsx","pages/Participants/ParticipantsContainer.jsx","pages/FullViewPhoto/FullViewPhoto.jsx","pages/ParticipantPhoto/ParticipantPhotoContainer.jsx","pages/NextPhoto/NextPhoto.jsx","pages/ManagementParticipants/ManagementParticipantsContainer.jsx","pages/JudgeProfile/JudgeProfileContainer.jsx","pages/Management/ManagementContainer.jsx","pages/Login/LoginContainer.jsx","shared/assets/icons/telegram.svg","shared/assets/icons/instagram.svg","pages/Main/Footer/elements.jsx","pages/Main/Footer/Footer.jsx","pages/Main/Main.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["requestAPI","url","a","body","options","host","headers","Headers","append","authService","getCurrentToken","fetchOptions","JSON","stringify","fetch","then","response","json","catch","err","console","error","snackbarHandler","snackbarChanger","text","msg","isShown","BasicService","this","changer","TOKEN_KEY","_token","localStorage","getItem","_currentUser","isLoggedIn","_nextMark","_markSums","token","setItem","username","method","data","_setUserToken","user","warn","_isLoggedIn","name","login","role","marks","type","mark","nominationId","participantId","AuthContext","createContext","authDataDefault","status","nextMark","actions","logout","getNextMark","AuthProvider","children","useState","authData","setAuthData","useCallback","state","useEffect","getCurrentUser","currentUser","fetchData","Provider","value","useAuthState","React","useContext","opacityKeyframe","keyframes","SnackbarWrapperElement","styled","div","SnackbarContext","snackbarInit","isSuccess","SnackbarProvider","snackbarStatus","setSnackbarStatus","closeTimeOut","setTimeout","clearTimeout","createPortal","document","getElementById","APP_COLORS","Loader","Spinner","animation","size","managementService","_cachedUsers","_cachedUser","_isCreatingJudge","_isRemovingJudge","_isLoadingJudge","length","_fetchUsers","push","id","filter","_id","nominationsService","_cachedNominations","_isLoadingNominations","sort","b","participantsService","_cachedParticipants","_isLoadingParticipants","NavbarElement","Navbar","Header","onLogout","isAdmin","adminPrefix","bg","Brand","as","Link","to","Nav","className","Button","variant","disabled","DropdownButton","title","menuAlign","Dropdown","Item","onClick","HeaderContainer","map","service","clean","LoginWrapperElement","CardElement","Card","FormElement","Form","Login","setUsernme","handleClick","e","preventDefault","Group","Label","Control","placeholder","onChange","target","NominationsWrapperElement","PropTypes","shape","oneOfType","string","number","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fillRule","d","SvgArrowDownRightCircle","_ref","svgRef","titleId","props","xmlns","width","height","fill","viewBox","ref","ForwardRef","Nominations","nominations","isLoading","Table","hover","bordered","responsive","striped","photos","NominationsContainer","setNominations","loadingStatus","setLoadingStatus","loadNominations","NominationWrapperElement","PhotosWrapperElement","photo","arrayOf","link","isRequired","oneOf","SvgDashCircle","FlexColumnCenteredWrapperElement","LinkToPhotoElement","generateParticipantTableTds","participants","isWithLinks","rightColumnsCallback","renderMarkCell","nomination","participant","ideaMark","lookMark","get","avgMark","OverlayTrigger","overlay","Tooltip","renderTooltipedMarkLabel","idea","look","avg","Nomination","withoutMarks","nominationPhotos","setPhotos","getPhotoLink","photoId","prevState","log","Img","loading","src","Body","Title","split","Text","NominationContainer","useParams","setName","setIsLoading","loadNomination","fetchNomination","ParticipantWrapperElement","ParticipantTitleElement","span","ParticipantMarksWrapperElement","ParticipantMarks","users","judges","Participant","allJudgeMarks","isAllJudgeMarksLoading","nominationKey","Fragment","index","ParticipantContainer","setParticipant","allJudgesMarks","setAllJudgesMarks","isMarksLoading","setIsMarksLoading","setUsers","loadParticipant","fetchParticipant","getMarksOfParticipant","loadMarks","getUsers","fetchUsers","SvgStar","SvgStarFill","SvgArrowLeftCircleFill","ParticipantPhotoWrapperElement","PhotoWrapperElement","PhotoInfoBlockElement","StarsWrapperElement","StarIconElement","StarIcon","StarFillIconElement","StarFillIcon","MarkLabelElement","MarksWrapperElement","ArrowLeftIconElement","ArrowLeftIcon","ArrowRightLinkElement","SvgArrowRightCircleFill","getMarkStar","currentMark","setMark","section","clickCallback","ParticipantPhoto","nominationName","onMarkChange","useMemo","setLook","setIdea","setIsImageLoading","setMarks","photoLink","replace","alt","onLoad","localStoragePhotoKey","photoService","parse","ParticipantsWrapperElement","Participants","HomeWrapperElement","CardsWrapperElement","CardLeftElement","CardRightElement","SvgTrashFill","ManagementWrapperElement","ManagementHeaderElement","header","TrashElement","TrashIcon","userInit","CreateUserForm","showModal","closeModal","onCreate","isCreatingUser","userForm","setUserForm","handleFormChange","event","handleCreate","Modal","show","onHide","closeButton","controlId","Footer","Management","onDelete","isRemovingUser","setShowModal","openModal","userData","handleDelete","SvgFileEarmarkArrowDown","JudgeProfileWrapperElement","DownloadIconElement","DownloadIcon","DownloadButtonElement","handleFormatedMark","formatedMarks","cb","keysToHandle","field","ID_FIELD","handledMarks","reduce","res","JudgeProfile","formatMarks","participantMarks","exportToCSV","avgMarks","ideaMarks","lookMarks","avgWs","XLSX","json_to_sheet","ideaWs","lookWs","wb","book_new","book_append_sheet","excelBuffer","bookType","Blob","FileSaver","ManagementPraticipantsWrapperElement","SvgCheckCircle","ManagementParticipants","isFinished","FullViewPhotoWrapperElement","OverlayElement","judgeRoutes","path","component","lastMarkedPhoto","setLastMarkedPhoto","getLastMarkedPhoto","setParticipants","isLoadedNominations","setIsLoadedNominations","isLoadedParticipants","setIsLoadedParticipants","loadParticipants","imgUrl","setNominationName","setPhoto","handleMarkChange","putMark","loadPhoto","loadedPhoto","isRedirect","adminRoutes","getMarkSums","loadedMarks","setUser","loadUser","setIsCreatingUser","setIsRemovingUser","createJudge","createUser","removeJudge","deleteUser","notAuthRoutes","generateRoute","from","exact","SvgTelegram","SvgInstagram","TelegramIconElement","TelegramIcon","InstagramIconElement","InstagramIcon","href","color","ContentElement","main","RouterWrapperElement","Main","forEach","setSnackbarChanger","isAuth","routes","route","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.acb4971d.chunk.js","sourcesContent":["import { authService } from './auth';\r\n\r\nexport const requestAPI = async (url, { body, ...options } = {}) => {\r\n  const host = '/api';\r\n  const headers = new Headers(options.headers);\r\n  headers.append('Content-Type', 'application/json');\r\n  headers.append('Authorization', `Bearer ${authService.getCurrentToken()}`);\r\n\r\n  const fetchOptions = {\r\n    // mode: 'cors',\r\n    headers,\r\n    body: body ? JSON.stringify(body) : null,\r\n    ...options,\r\n  };\r\n\r\n  return fetch(host + url, fetchOptions)\r\n    .then((response) => response.json())\r\n    .then((response) => response)\r\n    .catch((err) => {\r\n      console.error(err);\r\n    });\r\n};\r\n\r\nexport const snackbarHandler = (response, snackbarChanger) => {\r\n  if (response) {\r\n    const text = response.err || response.msg;\r\n    if (text) {\r\n      snackbarChanger({\r\n        isShown: true,\r\n        text,\r\n      });\r\n    }\r\n  }\r\n};\r\n","export class BasicService {\r\n  constructor() {\r\n    this.snackbarChanger = null;\r\n  }\r\n\r\n  setSnackbarChanger(changer) {\r\n    this.snackbarChanger = changer;\r\n  }\r\n}\r\n","import { requestAPI, snackbarHandler } from './request';\r\nimport { BasicService } from './BasicService';\r\n\r\nconst TOKEN_KEY = 'FVM_TOKEN';\r\n\r\nclass AuthService extends BasicService {\r\n  constructor() {\r\n    super();\r\n    this._token = localStorage.getItem(TOKEN_KEY);\r\n    this._currentUser = null;\r\n    this.isLoggedIn = !!this._token;\r\n    this._nextMark = null;\r\n    this._markSums = null;\r\n  }\r\n\r\n  _setUserToken(token) {\r\n    this._token = token;\r\n    localStorage.setItem(TOKEN_KEY, token);\r\n  }\r\n\r\n  async login(username) {\r\n    const response = await requestAPI('/users/auth', {\r\n      method: 'POST',\r\n      body: {\r\n        username,\r\n      },\r\n    });\r\n\r\n    if (response && response.data) {\r\n      this._setUserToken(response.data.token);\r\n      this._currentUser = response.data.user;\r\n    }\r\n\r\n    snackbarHandler(response, this.snackbarChanger);\r\n\r\n    if (response && response.data) {\r\n      return response.data.user;\r\n    }\r\n\r\n    console.warn('[Auth Service] Not valid username');\r\n    return null;\r\n  }\r\n\r\n  logout() {\r\n    this._isLoggedIn = false;\r\n    this._setUserToken(null);\r\n  }\r\n\r\n  getCurrentToken() {\r\n    return this._token;\r\n  }\r\n\r\n  clean() {\r\n    this._currentUser = null;\r\n    this._token = null;\r\n    this._nextMark = null;\r\n  }\r\n\r\n  async getCurrentUser() {\r\n    if (!this._token) {\r\n      console.warn('[Auth Service] User is not logged in');\r\n    }\r\n\r\n    const response = await requestAPI('/users/me');\r\n\r\n    if (!response || !response.data) {\r\n      return null;\r\n    }\r\n\r\n    const user = response.data;\r\n\r\n    return {\r\n      name: user.name,\r\n      login: user.username,\r\n      role: user.role,\r\n      marks: user.marks,\r\n    };\r\n  }\r\n\r\n  async getNextMark() {\r\n    const response = await requestAPI('/users/notMarked');\r\n\r\n    if (response && response.data) {\r\n      this._nextMark = response.data;\r\n    }\r\n\r\n    return this._nextMark;\r\n  }\r\n\r\n  async putMark({ type, mark, nominationId, participantId }) {\r\n    const response = await requestAPI(`/user/${nominationId}/${participantId}`, {\r\n      method: 'PUT',\r\n      body: {\r\n        type: type,\r\n        mark: mark,\r\n      },\r\n    });\r\n\r\n    snackbarHandler(response, this.snackbarChanger);\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async getMarkSums() {\r\n    const response = await requestAPI('/users/marks/sum');\r\n\r\n    if (response && response.data) {\r\n      this._markSums = response.data;\r\n    }\r\n\r\n    snackbarHandler(response, this.snackbarChanger);\r\n\r\n    return this._markSums;\r\n  }\r\n}\r\n\r\nexport const authService = new AuthService();\r\n","import React, { useCallback } from 'react';\r\nimport { createContext, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { authService } from '../services/auth';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst authDataDefault = {\r\n  user: null,\r\n  // null is not checked, false - not auth, true - auth\r\n  isLoggedIn: null,\r\n  status: 'pending',\r\n  nextMark: null,\r\n  actions: {\r\n    login: () => {},\r\n    logout: () => {},\r\n    getNextMark: () => {},\r\n  },\r\n};\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [authData, setAuthData] = useState(authDataDefault);\r\n\r\n  // actions\r\n  const login = useCallback(\r\n    async (username) => {\r\n      const user = await authService.login(username);\r\n      if (user) {\r\n        setAuthData((state) => ({\r\n          ...state,\r\n          status: 'success',\r\n          user,\r\n          error: 'null',\r\n          isLoggedIn: true,\r\n        }));\r\n      }\r\n    },\r\n    [setAuthData],\r\n  );\r\n\r\n  const logout = useCallback(() => {\r\n    authService.logout();\r\n    setAuthData((state) => ({\r\n      ...state,\r\n      user: null,\r\n      isLoggedIn: false,\r\n    }));\r\n  }, [setAuthData]);\r\n\r\n  const getNextMark = useCallback(async () => {\r\n    const mark = await authService.getNextMark();\r\n    if (mark) {\r\n      setAuthData((state) => ({\r\n        ...state,\r\n        nextMark: mark,\r\n      }));\r\n    }\r\n  }, [setAuthData]);\r\n\r\n  useEffect(() => {\r\n    const actions = {};\r\n    actions.login = login;\r\n    actions.logout = logout;\r\n    actions.getNextMark = getNextMark;\r\n\r\n    const fetchData = async () => {\r\n      const currentUser = await authService.getCurrentUser();\r\n      if (currentUser) {\r\n        setAuthData((state) => ({\r\n          ...state,\r\n          status: 'success',\r\n          user: currentUser,\r\n          isLoggedIn: true,\r\n          actions,\r\n        }));\r\n      } else {\r\n        setAuthData((state) => ({\r\n          ...state,\r\n          status: 'success',\r\n          isLoggedIn: false,\r\n          actions,\r\n        }));\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setAuthData, login, logout, getNextMark]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={authData}>\r\n      {status !== 'pending' ? children : null}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nAuthProvider.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport function useAuthState() {\r\n  const state = React.useContext(AuthContext);\r\n  return state;\r\n}\r\n","import styled, { keyframes } from 'styled-components';\r\n\r\nconst opacityKeyframe = keyframes`\r\n  0% {\r\n    opacity: 0;\r\n  } \r\n\r\n  40%, 60% {\r\n    opacity: 0.8;\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n  }\r\n`;\r\n\r\nexport const SnackbarWrapperElement = styled.div`\r\n  min-width: 15rem;\r\n  min-height: 3rem;\r\n  background-color: black;\r\n  opacity: 0.8;\r\n  border-radius: 0.2rem;\r\n  color: white;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  animation: ${opacityKeyframe} 6s;\r\n  cursor: pointer;\r\n`;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createContext } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { SnackbarWrapperElement } from './elements';\r\n\r\nexport const SnackbarContext = createContext();\r\n\r\nconst snackbarInit = {\r\n  isShown: false,\r\n  isSuccess: false,\r\n  text: '',\r\n};\r\n\r\nexport const SnackbarProvider = ({ children }) => {\r\n  const [snackbarStatus, setSnackbarStatus] = useState(snackbarInit);\r\n\r\n  useEffect(() => {\r\n    if (snackbarStatus.isShown) {\r\n      const closeTimeOut = setTimeout(() => {\r\n        setSnackbarStatus({\r\n          isShown: false,\r\n          text: '',\r\n          isSuccess: false,\r\n        });\r\n      }, 6000);\r\n\r\n      return () => {\r\n        clearTimeout(closeTimeOut);\r\n      };\r\n    }\r\n  }, [snackbarStatus.isShown]);\r\n\r\n  return (\r\n    <SnackbarContext.Provider value={{ setSnackbarStatus }}>\r\n      {snackbarStatus.isShown &&\r\n        createPortal(\r\n          <SnackbarWrapperElement>{snackbarStatus.text}</SnackbarWrapperElement>,\r\n          document.getElementById('snackbar-container'),\r\n        )}\r\n      {children}\r\n    </SnackbarContext.Provider>\r\n  );\r\n};\r\n\r\nSnackbarProvider.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport function useSnackbarContext() {\r\n  const state = useContext(SnackbarContext);\r\n  return state;\r\n}\r\n","export const APP_COLORS = {\r\n  LIGHT_BLUE_BORDER: '#e0e7f0',\r\n  SUPER_LIGHT_GRAY: '#f9f9f9',\r\n  PRIMARY_BLACK: '#212529',\r\n};\r\n","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nexport const Loader = () => {\r\n  return (\r\n    <>\r\n      <Spinner animation=\"border\" size=\"sm\" /> Загрузка...\r\n    </>\r\n  );\r\n};\r\n","import { BasicService } from './BasicService';\r\nimport { requestAPI, snackbarHandler } from './request';\r\nclass ManagementService extends BasicService {\r\n  constructor() {\r\n    super();\r\n    this._cachedUsers = [];\r\n    this._cachedUser = null;\r\n    this._isCreatingJudge = false;\r\n    this._isRemovingJudge = false;\r\n    this._isLoadingJudge = false;\r\n  }\r\n\r\n  async _fetchUsers() {\r\n    const response = await requestAPI(`/users`);\r\n\r\n    if (response) {\r\n      if (response.data && response.data.length) {\r\n        this._cachedUsers = response.data;\r\n      }\r\n\r\n      return response.data;\r\n    }\r\n\r\n    return [];\r\n  }\r\n\r\n  async getUsers() {\r\n    if (this._cachedUsers && this._cachedUsers.length) {\r\n      return this._cachedUsers;\r\n    }\r\n\r\n    return this._fetchUsers();\r\n  }\r\n\r\n  async createJudge({ name, username }) {\r\n    if (!this._isCreatingJudge) {\r\n      this._isCreatingJudge = true;\r\n      const response = await requestAPI('/users', {\r\n        method: 'POST',\r\n        body: {\r\n          name,\r\n          username,\r\n          role: 'judge',\r\n        },\r\n      });\r\n\r\n      if (response && response.data) {\r\n        this._cachedUsers.push(response.data);\r\n      }\r\n\r\n      snackbarHandler(response, this.snackbarChanger);\r\n      this._isCreatingJudge = false;\r\n    }\r\n  }\r\n\r\n  async removeJudge(id) {\r\n    if (!this._isRemovingJudge) {\r\n      this._isRemovingJudge = true;\r\n      const response = await requestAPI(`/users/${id}`, {\r\n        method: 'DELETE',\r\n      });\r\n      if (response && response.data) {\r\n        this._cachedUsers = this._cachedUsers.filter((user) => user._id !== id);\r\n      }\r\n      snackbarHandler(response, this.snackbarChanger);\r\n\r\n      this._isRemovingJudge = false;\r\n    }\r\n  }\r\n\r\n  async loadUser(id) {\r\n    if (!this._cachedUser || this._cachedUser._id !== id) {\r\n      if (!this._isLoadingJudge) {\r\n        this._isLoadingJudge = true;\r\n        const { data } = await requestAPI(`/users/${id}`);\r\n        this._isLoadingJudge = false;\r\n\r\n        if (data) {\r\n          this._cachedUser = data;\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n    return this._cachedUser;\r\n  }\r\n\r\n  async getMarksOfParticipant(participantId) {\r\n    // not cacheable data\r\n    const response = await requestAPI(`/users/marks?participantId=${participantId}`);\r\n\r\n    if (!response || !response.data) {\r\n      return null;\r\n    }\r\n\r\n    return response.data;\r\n  }\r\n\r\n  clean() {\r\n    this._cachedUsers = [];\r\n    this._cachedUser = null;\r\n    this._isCreatingJudge = false;\r\n    this._isRemovingJudge = false;\r\n    this._isLoadingJudge = false;\r\n  }\r\n}\r\n\r\nexport const managementService = new ManagementService();\r\n","import { requestAPI } from './request';\r\n\r\nclass NominationsService {\r\n  constructor() {\r\n    this._cachedNominations = [];\r\n    this._isLoadingNominations = false;\r\n  }\r\n\r\n  async loadNominations() {\r\n    if (!this._cachedNominations || !this._cachedNominations.length) {\r\n      const response = await requestAPI(`/nominations`);\r\n\r\n      if (response && response.data && response.data.length) {\r\n        this._cachedNominations = response.data.sort((a, b) => b.id - a.id);\r\n      }\r\n    }\r\n    return this._cachedNominations;\r\n  }\r\n\r\n  async loadNomination(id) {\r\n    const response = await requestAPI(`/nominations/custom-id/${id}`);\r\n\r\n    if (!response || !response.data) {\r\n      return null;\r\n    }\r\n\r\n    return response.data;\r\n  }\r\n\r\n  clean() {\r\n    this._cachedNominations = [];\r\n    this._isLoadingNominations = false;\r\n  }\r\n}\r\n\r\nexport const nominationsService = new NominationsService();\r\n","import { BasicService } from './BasicService';\r\nimport { requestAPI } from './request';\r\n\r\nclass ParticipantsService extends BasicService {\r\n  constructor() {\r\n    super();\r\n    this._cachedParticipants = [];\r\n    this._isLoadingParticipants = false;\r\n  }\r\n\r\n  async loadParticipants() {\r\n    if (!this._cachedParticipants || !this._cachedParticipants.length) {\r\n      const { data } = await requestAPI(`/participants`);\r\n\r\n      if (data && data.length) {\r\n        this._cachedParticipants = data.sort((a, b) => a.id - b.id);\r\n      }\r\n    }\r\n    return this._cachedParticipants;\r\n  }\r\n\r\n  async loadParticipant(id) {\r\n    const response = await requestAPI(`/participants/custom-id/${id}`);\r\n\r\n    if (!response || !response.data) {\r\n      return null;\r\n    }\r\n\r\n    return response.data;\r\n  }\r\n\r\n  clean() {\r\n    this._cachedParticipants = [];\r\n    this._isLoadingParticipants = false;\r\n  }\r\n}\r\n\r\nexport const participantsService = new ParticipantsService();\r\n","import { Navbar } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\nimport { APP_COLORS } from '../../../shared';\r\n\r\nexport const NavbarElement = styled(Navbar)`\r\n  border-bottom: 1px solid ${APP_COLORS.LIGHT_BLUE_BORDER};\r\n\r\n  .btn.btn-dark {\r\n    margin-right: 1rem;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Dropdown, Nav, Navbar, DropdownButton, Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { NavbarElement } from './elements';\r\n\r\nexport const Header = ({ name, onLogout, role, nextMark }) => {\r\n  const isAdmin = role === 'admin';\r\n  const adminPrefix = isAdmin ? '/management' : '';\r\n  return (\r\n    <div>\r\n      <NavbarElement bg=\"gray\">\r\n        <Navbar.Brand as={Link} to=\"/home\">\r\n          ФВМ.Жюри\r\n        </Navbar.Brand>\r\n        <Nav className=\"mr-auto\">\r\n          {isAdmin && (\r\n            <Nav.Link as={Link} to=\"/management\">\r\n              Управление\r\n            </Nav.Link>\r\n          )}\r\n          <Nav.Link as={Link} to={`${adminPrefix}/nominations`}>\r\n            Номинации\r\n          </Nav.Link>\r\n          <Nav.Link as={Link} to={`${adminPrefix}/participants`}>\r\n            Участники\r\n          </Nav.Link>\r\n        </Nav>\r\n        {!isAdmin && (\r\n          <Button\r\n            as={Link}\r\n            // to={nextMark ? `/photos/${nextMark.nominationId}/${nextMark.participantId}` : '#'}\r\n            to={nextMark ? `/nextPhoto` : '#'}\r\n            variant=\"dark\"\r\n            disabled={!nextMark}\r\n          >\r\n            Оценивать\r\n          </Button>\r\n        )}\r\n\r\n        <DropdownButton variant=\"light\" title={name} menuAlign=\"right\">\r\n          <Dropdown.Item onClick={onLogout}>Выйти</Dropdown.Item>\r\n        </DropdownButton>\r\n      </NavbarElement>\r\n    </div>\r\n  );\r\n};\r\n\r\nHeader.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  onLogout: PropTypes.func.isRequired,\r\n  role: PropTypes.oneOf(['judge', 'admin']),\r\n  nextMark: PropTypes.shape({\r\n    nominationId: PropTypes.string,\r\n    participantId: PropTypes.string,\r\n  }),\r\n};\r\n","import React, { useCallback, useState, useEffect } from 'react';\r\nimport { useAuthState } from '../../../contexts';\r\nimport { authService } from '../../../services/auth';\r\nimport { managementService } from '../../../services/management';\r\nimport { nominationsService } from '../../../services/nominations';\r\nimport { participantsService } from '../../../services/participants';\r\nimport { Header } from './Header';\r\n\r\nexport const HeaderContainer = () => {\r\n  const { user, actions, nextMark } = useAuthState();\r\n\r\n  useEffect(() => {\r\n    actions.getNextMark();\r\n  }, []);\r\n\r\n  const onLogout = useCallback(() => {\r\n    actions.logout();\r\n\r\n    [managementService, nominationsService, participantsService, authService].map(\r\n      (service) => service && service.clean && service.clean(),\r\n    );\r\n  }, [actions]);\r\n\r\n  return <Header name={`${user.name}`} role={user.role} onLogout={onLogout} nextMark={nextMark} />;\r\n};\r\n","import { Card, Form } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\n\r\nexport const LoginWrapperElement = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nexport const CardElement = styled(Card)`\r\n  width: 25rem;\r\n  height: 12rem;\r\n`;\r\n\r\nexport const FormElement = styled(Form)`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  .form-group {\r\n    width: 90%;\r\n  }\r\n\r\n  .btn-dark {\r\n    width: 7rem;\r\n  }\r\n`;\r\n","import React, { useState, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { LoginWrapperElement, CardElement, FormElement } from './elements';\r\n\r\nexport const Login = ({ onClick }) => {\r\n  const [username, setUsernme] = useState('');\r\n\r\n  const handleClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      onClick && onClick({ username });\r\n    },\r\n    [username, onClick],\r\n  );\r\n\r\n  return (\r\n    <LoginWrapperElement>\r\n      <h3>ФВМ.Жюри</h3>\r\n      <CardElement body>\r\n        <FormElement>\r\n          <Form.Group>\r\n            <Form.Label>Логин</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Введите логин\"\r\n              onChange={(e) => setUsernme(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Button variant=\"dark\" type=\"submit\" onClick={handleClick} disabled={!username}>\r\n            Войти\r\n          </Button>\r\n        </FormElement>\r\n      </CardElement>\r\n    </LoginWrapperElement>\r\n  );\r\n};\r\n\r\nLogin.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const NominationsWrapperElement = styled.div``;\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const nominationPropType = PropTypes.shape({\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  name: PropTypes.string,\r\n});\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.854 5.146a.5.5 0 1 0-.708.708L9.243 9.95H6.475a.5.5 0 1 0 0 1h3.975a.5.5 0 0 0 .5-.5V6.475a.5.5 0 1 0-1 0v2.768L5.854 5.146z\"\n});\n\nfunction SvgArrowDownRightCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-arrow-down-right-circle\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDownRightCircle);\nexport default __webpack_public_path__ + \"static/media/arrow-down-right-circle.2a66fcc9.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Table } from 'react-bootstrap';\r\nimport { nominationPropType } from '../../shared/propTypes/nominations';\r\nimport { NominationsWrapperElement } from './elements';\r\nimport { ReactComponent as ArrowIcon } from '../../shared/assets/icons/arrow-down-right-circle.svg';\r\n// import { ReactComponent as CheckedIcon } from '../../shared/assets/icons/check-circle.svg';\r\n// import { ReactComponent as DashIcon } from '../../shared/assets/icons/dash-circle.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport { Loader } from '../../shared';\r\n\r\nexport const Nominations = ({ nominations, isLoading }) => {\r\n  return (\r\n    <NominationsWrapperElement>\r\n      <h3>Номинации</h3>\r\n      {(isLoading && <Loader />) || (\r\n        <Table hover bordered responsive striped>\r\n          <thead>\r\n            <tr>\r\n              <th>Название</th>\r\n              <th>Перейти</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {nominations.map(({ name, id, photos }) => (\r\n              <tr key={id}>\r\n                <td>\r\n                  <b>{name}</b>\r\n                </td>\r\n                {/* <td>{id}</td>\r\n                <td>{id}</td>\r\n                <td>{id % 2 ? <DashIcon fill=\"red\" /> : <CheckedIcon fill=\"green\" />}</td> */}\r\n                <td>\r\n                  <Link to={`nominations/${id}`}>\r\n                    <ArrowIcon fill=\"black\" />\r\n                  </Link>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </NominationsWrapperElement>\r\n  );\r\n};\r\n\r\nNominations.propTypes = {\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { nominationsService } from '../../services/nominations';\r\nimport { Nominations } from './Nominations';\r\n\r\nexport const NominationsContainer = () => {\r\n  const [nominations, setNominations] = useState([]);\r\n  const [loadingStatus, setLoadingStatus] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const loadNominations = async () => {\r\n      const nominations = await nominationsService.loadNominations();\r\n      setNominations(nominations);\r\n      setLoadingStatus(false);\r\n    };\r\n    loadNominations();\r\n  }, [setNominations, setLoadingStatus]);\r\n\r\n  return <Nominations nominations={nominations} isLoading={loadingStatus} />;\r\n};\r\n","import styled from 'styled-components';\r\nimport { Card } from 'react-bootstrap';\r\n\r\nexport const NominationWrapperElement = styled.div``;\r\n\r\nexport const CardElement = styled(Card)`\r\n  width: calc(20% - 30px);\r\n  margin: 5px;\r\n`;\r\n\r\nexport const PhotosWrapperElement = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const participantPropType = PropTypes.shape({\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  nominations: PropTypes.shape({\r\n    id: PropTypes.shape({\r\n      photo: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n          name: PropTypes.string,\r\n          link: PropTypes.string,\r\n        }),\r\n      ),\r\n    }),\r\n  }),\r\n});\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const photoPropType = PropTypes.shape({\r\n  link: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n});\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const userPropType = PropTypes.shape({\r\n  name: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  role: PropTypes.oneOf(['judge', 'admin']),\r\n  _id: PropTypes.string.isRequired,\r\n});\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"\n});\n\nfunction SvgDashCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-dash-circle\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDashCircle);\nexport default __webpack_public_path__ + \"static/media/dash-circle.77321307.svg\";\nexport { ForwardRef as ReactComponent };","import { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport const FlexColumnCenteredWrapperElement = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const LinkToPhotoElement = styled(Link)`\r\n  text-decoration: none;\r\n  color: black;\r\n`;\r\n","import React from 'react';\r\nimport get from 'lodash.get';\r\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport { ReactComponent as DashIcon } from '../../shared/assets/icons/dash-circle.svg';\r\nimport { FlexColumnCenteredWrapperElement, LinkToPhotoElement } from './elements';\r\n\r\nexport const generateParticipantTableTds = (\r\n  nominations,\r\n  participants,\r\n  marks,\r\n  isWithLinks = false,\r\n  rightColumnsCallback = () => {},\r\n) => {\r\n  const renderMarkCell = ({ nomination, participant, ideaMark, lookMark }) => {\r\n    return isWithLinks ? (\r\n      <LinkToPhotoElement to={`/photos/${nomination.id}/${participant.id}`}>\r\n        {ideaMark}\r\n        <span className=\"text-muted\">{' | '}</span>\r\n        {lookMark}\r\n      </LinkToPhotoElement>\r\n    ) : (\r\n      <div>\r\n        {ideaMark}\r\n        <span className=\"text-muted\">{' | '}</span>\r\n        {lookMark}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return participants.map((participant) => (\r\n    <tr key={participant._id}>\r\n      <td>{participant.id}</td>\r\n      {nominations.map((nomination) => {\r\n        const ideaMark = get(marks, `${nomination.id}.${participant.id}.idea`, false);\r\n        const lookMark = get(marks, `${nomination.id}.${participant.id}.look`, false);\r\n        const avgMark = ideaMark && lookMark ? (ideaMark + lookMark) / 2 : 0;\r\n\r\n        return marks && marks[nomination.id] && marks[nomination.id][participant.id] ? (\r\n          <td className=\"text-center\" key={`${participant._id}-${nomination._id}`}>\r\n            <OverlayTrigger\r\n              overlay={\r\n                <Tooltip>\r\n                  <FlexColumnCenteredWrapperElement>\r\n                    <span>Идея: {ideaMark}</span>\r\n                    <span>Реализация: {lookMark}</span>\r\n                    <span>Средняя: {avgMark}</span>\r\n                  </FlexColumnCenteredWrapperElement>\r\n                </Tooltip>\r\n              }\r\n            >\r\n              {renderMarkCell({ nomination, participant, ideaMark, lookMark })}\r\n            </OverlayTrigger>\r\n          </td>\r\n        ) : (\r\n          <td className=\"text-center\" key={`${participant._id}-${nomination._id}`}>\r\n            <OverlayTrigger\r\n              overlay={\r\n                <Tooltip>\r\n                  <span>Нет фото</span>\r\n                </Tooltip>\r\n              }\r\n            >\r\n              {/* <DashIcon fill=\"red\" />\r\n               */}\r\n              <span>-</span>\r\n            </OverlayTrigger>\r\n          </td>\r\n        );\r\n      })}\r\n      {rightColumnsCallback && rightColumnsCallback({ participant })}\r\n    </tr>\r\n  ));\r\n};\r\n\r\nexport const renderTooltipedMarkLabel = ({ idea, look } = { idea: 0, look: 0 }) => {\r\n  const avg = idea && look ? (idea + look) / 2 : 0;\r\n\r\n  return (\r\n    <OverlayTrigger\r\n      overlay={\r\n        <Tooltip>\r\n          <FlexColumnCenteredWrapperElement>\r\n            <span>Идея: {idea}</span>\r\n            <span>Реализация: {look}</span>\r\n            <span>Средняя: {avg}</span>\r\n          </FlexColumnCenteredWrapperElement>\r\n        </Tooltip>\r\n      }\r\n    >\r\n      <div>\r\n        {idea}\r\n        <span className=\"text-muted\">{' | '}</span>\r\n        {look}\r\n      </div>\r\n    </OverlayTrigger>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { NominationWrapperElement, CardElement, PhotosWrapperElement } from './elements';\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { photoPropType } from '../../shared/propTypes';\r\nimport { Loader } from '../../shared';\r\nimport { renderTooltipedMarkLabel } from '../../shared/helpers/mark';\r\n\r\nexport const Nomination = ({ name, id, photos, isLoading, marks, withoutMarks, isAdmin }) => {\r\n  const [nominationPhotos, setPhotos] = useState({});\r\n  const getPhotoLink = async (photoId) => {\r\n    fetch(`\r\n      /api/google/photo/${photoId}\r\n    `)\r\n      .then((response) => response.json())\r\n      .then(({ name, link, id }) => {\r\n        setPhotos((prevState) => ({ ...prevState, [name]: { name, link, id } }));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    photos.map((photo) => getPhotoLink(photo.id));\r\n  }, [photos]);\r\n  return (\r\n    <NominationWrapperElement>\r\n      <h3>{name}</h3>\r\n      {(isLoading && <Loader />) || (\r\n        <>\r\n          <h4 className=\"text-muted\">Фото: </h4>\r\n          <PhotosWrapperElement>\r\n            {photos.map((photo) => (\r\n              <CardElement key={photo.name}>\r\n                <Card.Img\r\n                  variant=\"top\"\r\n                  loading=\"lazy\"\r\n                  src={nominationPhotos[photo.name] ? nominationPhotos[photo.name].link : ''}\r\n                />\r\n                <Card.Body>\r\n                  <Card.Title>Участник {photo.name.split('_')[0]}</Card.Title>\r\n                  {!withoutMarks && (\r\n                    <Card.Text>\r\n                      <span className=\"text-muted\">Оценки:</span>\r\n                      {renderTooltipedMarkLabel(marks[id][photo.name.split('_')[0]])}\r\n                    </Card.Text>\r\n                  )}\r\n                  <Card.Link\r\n                    as={Link}\r\n                    to={`${isAdmin ? '/management' : ''}/participants/${photo.name.split('_')[0]}`}\r\n                  >\r\n                    Участник\r\n                  </Card.Link>\r\n                  <br></br>\r\n                  {!withoutMarks && (\r\n                    <Card.Link as={Link} to={`/photos/${id}/${photo.name.split('_')[0]}`}>\r\n                      Оценить\r\n                    </Card.Link>\r\n                  )}\r\n                </Card.Body>\r\n              </CardElement>\r\n            ))}\r\n          </PhotosWrapperElement>\r\n        </>\r\n      )}\r\n    </NominationWrapperElement>\r\n  );\r\n};\r\n\r\nNomination.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  photos: PropTypes.arrayOf(photoPropType).isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  withoutMarks: PropTypes.bool.isRequired,\r\n  isAdmin: PropTypes.bool.isRequired,\r\n  marks: PropTypes.object.isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useAuthState } from '../../contexts';\r\nimport { nominationsService } from '../../services/nominations';\r\nimport { Nomination } from './Nomination';\r\n\r\nexport const NominationContainer = () => {\r\n  const { user } = useAuthState();\r\n  const { id } = useParams();\r\n  const [name, setName] = useState('');\r\n  const [photos, setPhotos] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const isAdmin = user.role === 'admin';\r\n\r\n  useEffect(() => {\r\n    const fetchNomination = async () => {\r\n      const nomination = await nominationsService.loadNomination(id);\r\n      setName(nomination.name);\r\n      setPhotos(nomination.photos);\r\n      setIsLoading(false);\r\n    };\r\n    fetchNomination();\r\n  }, [setIsLoading]);\r\n\r\n  return (\r\n    <Nomination\r\n      name={name}\r\n      id={id}\r\n      photos={photos}\r\n      isLoading={isLoading}\r\n      marks={user.marks}\r\n      withoutMarks={isAdmin}\r\n      isAdmin={isAdmin}\r\n    />\r\n  );\r\n};\r\n","import { Card } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\n\r\nexport const ParticipantWrapperElement = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nexport const ParticipantTitleElement = styled.span`\r\n  font-size: 1.2rem;\r\n  font-weight: 500;\r\n`;\r\n\r\nexport const PhotosWrapperElement = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nexport const CardElement = styled(Card)`\r\n  width: calc(30% - 30px);\r\n  margin: 5px;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const ParticipantMarksWrapperElement = styled.div``;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Table } from 'react-bootstrap';\r\nimport { ParticipantMarksWrapperElement } from './elements';\r\nimport { nominationPropType, userPropType } from '../../../shared/propTypes';\r\nimport { renderTooltipedMarkLabel } from '../../../shared/helpers/mark';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const ParticipantMarks = ({ marks, nominations, users }) => {\r\n  const usernames = Object.keys(marks[Object.keys(marks)[0]]);\r\n  const judges = users.filter(({ role }) => role === 'judge');\r\n\r\n  return (\r\n    <ParticipantMarksWrapperElement>\r\n      <Table hover bordered responsive striped size=\"sm\">\r\n        <thead>\r\n          <tr>\r\n            <th>Пользователь</th>\r\n            {nominations.map((nomination) => (\r\n              <th key={nomination.id}>{nomination.name}</th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {judges.map(({ username, name, _id }) => (\r\n            <tr key={username}>\r\n              <td>\r\n                <Link to={`/management/${_id}`}>{name}</Link>\r\n              </td>\r\n              {nominations.map((nomination) => {\r\n                const value = marks[nomination.id][username];\r\n\r\n                return (\r\n                  <td key={`${username}-${nomination.id}`}>\r\n                    {(value && renderTooltipedMarkLabel(value)) || '-'}\r\n                  </td>\r\n                );\r\n              })}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </Table>\r\n    </ParticipantMarksWrapperElement>\r\n  );\r\n};\r\n\r\nParticipantMarks.propTypes = {\r\n  marks: PropTypes.object.isRequired,\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n  users: PropTypes.arrayOf(userPropType).isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  ParticipantTitleElement,\r\n  ParticipantWrapperElement,\r\n  PhotosWrapperElement,\r\n  CardElement,\r\n} from './elements';\r\nimport PropTypes from 'prop-types';\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { Loader } from '../../shared';\r\nimport { renderTooltipedMarkLabel } from '../../shared/helpers/mark';\r\nimport { ParticipantMarks } from './ParticipantMarks/ParticipantMarks';\r\nimport { nominationPropType, userPropType } from '../../shared/propTypes';\r\n\r\nexport const Participant = ({\r\n  id,\r\n  participant,\r\n  isLoading,\r\n  marks,\r\n  withoutMarks,\r\n  isAdmin,\r\n  allJudgeMarks,\r\n  isAllJudgeMarksLoading,\r\n  nominations,\r\n  users,\r\n}) => {\r\n  const [photos, setPhotos] = useState({});\r\n  const getPhotoLink = async (photoId) => {\r\n    fetch(`\r\n      /api/google/photo/${photoId}\r\n    `)\r\n      .then((response) => response.json())\r\n      .then(({ name, link, id }) => {\r\n        setPhotos((prevState) => ({ ...prevState, [name]: { name, link, id } }));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    Object.keys(participant.nominations).map((nominationKey) =>\r\n      participant.nominations[nominationKey].photo.map((photo) => getPhotoLink(photo.id)),\r\n    );\r\n  }, []);\r\n  return (\r\n    <ParticipantWrapperElement>\r\n      <h3>Участник {id}</h3>\r\n      {(isLoading && <Loader />) || (\r\n        <>\r\n          {isAdmin && (\r\n            <>\r\n              <ParticipantTitleElement className=\"text-muted\">Оценки жюри:</ParticipantTitleElement>\r\n              {isAllJudgeMarksLoading ? (\r\n                <Loader />\r\n              ) : (\r\n                <ParticipantMarks marks={allJudgeMarks} nominations={nominations} users={users} />\r\n              )}\r\n              <hr></hr>\r\n            </>\r\n          )}\r\n          <ParticipantTitleElement className=\"text-muted\">Фото:</ParticipantTitleElement>\r\n          <PhotosWrapperElement>\r\n            {Object.keys(participant.nominations).map((nominationKey) => (\r\n              <React.Fragment key={nominationKey}>\r\n                {nominationKey != '0' && (\r\n                  <CardElement>\r\n                    {participant.nominations[nominationKey].photo.map((photo, index) => (\r\n                      <Card.Img\r\n                        variant=\"top\"\r\n                        src={photos[photo.name] ? photos[photo.name].link : ''}\r\n                        key={index}\r\n                      />\r\n                    ))}\r\n                    <Card.Body>\r\n                      <Card.Title>{participant.nominations[nominationKey].name}</Card.Title>\r\n                      {!withoutMarks && (\r\n                        <Card.Text>\r\n                          <span className=\"text-muted\">Оценки:</span>\r\n                          {renderTooltipedMarkLabel(marks[nominationKey][id])}\r\n                        </Card.Text>\r\n                      )}\r\n                      <Card.Link\r\n                        as={Link}\r\n                        to={`${isAdmin ? '/management' : ''}/nominations/${nominationKey}`}\r\n                      >\r\n                        Номинация\r\n                      </Card.Link>\r\n                      <br></br>\r\n                      {!withoutMarks && (\r\n                        <Card.Link as={Link} to={`/photos/${nominationKey}/${id}`}>\r\n                          Оценить\r\n                        </Card.Link>\r\n                      )}\r\n                    </Card.Body>\r\n                  </CardElement>\r\n                )}\r\n              </React.Fragment>\r\n            ))}\r\n          </PhotosWrapperElement>\r\n        </>\r\n      )}\r\n    </ParticipantWrapperElement>\r\n  );\r\n};\r\n\r\nParticipant.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  participant: PropTypes.object,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  marks: PropTypes.object.isRequired,\r\n  withoutMarks: PropTypes.bool.isRequired,\r\n  isAdmin: PropTypes.bool.isRequired,\r\n  allJudgeMarks: PropTypes.object.isRequired,\r\n  isAllJudgeMarksLoading: PropTypes.bool.isRequired,\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n  users: PropTypes.arrayOf(userPropType).isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useAuthState } from '../../contexts';\r\nimport { managementService } from '../../services/management';\r\nimport { nominationsService } from '../../services/nominations';\r\nimport { participantsService } from '../../services/participants';\r\nimport { Participant } from './Participant';\r\n\r\nexport const ParticipantContainer = () => {\r\n  const { user } = useAuthState();\r\n  const isAdmin = user.role === 'admin';\r\n  const { id } = useParams();\r\n  const [participant, setParticipant] = useState();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [allJudgesMarks, setAllJudgesMarks] = useState(null);\r\n  const [isMarksLoading, setIsMarksLoading] = useState(false);\r\n  const [nominations, setNominations] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchParticipant = async () => {\r\n      const participant = await participantsService.loadParticipant(id);\r\n      setParticipant(participant);\r\n      setIsLoading(false);\r\n    };\r\n    fetchParticipant();\r\n  }, [setIsLoading]);\r\n\r\n  useEffect(() => {\r\n    const loadMarks = async () => {\r\n      setIsMarksLoading(true);\r\n      const marks = await managementService.getMarksOfParticipant(id);\r\n      setAllJudgesMarks(marks);\r\n      setIsMarksLoading(false);\r\n    };\r\n    isAdmin && loadMarks();\r\n  }, [id, setIsMarksLoading, setAllJudgesMarks, isAdmin]);\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      const users = await managementService.getUsers();\r\n      setUsers(users);\r\n    };\r\n\r\n    isAdmin && fetchUsers();\r\n  }, [setUsers, isAdmin]);\r\n\r\n  useEffect(() => {\r\n    const loadNominations = async () => {\r\n      const nominations = await nominationsService.loadNominations();\r\n      setNominations(nominations);\r\n    };\r\n    loadNominations();\r\n  }, [setNominations]);\r\n\r\n  return (\r\n    (participant && (\r\n      <Participant\r\n        id={id}\r\n        participant={participant}\r\n        isLoading={isLoading}\r\n        marks={user.marks}\r\n        withoutMarks={user.role === 'admin'}\r\n        isAdmin={isAdmin}\r\n        isAllJudgeMarksLoading={isMarksLoading}\r\n        allJudgeMarks={allJudgesMarks}\r\n        nominations={nominations}\r\n        users={users}\r\n      />\r\n    )) ||\r\n    null\r\n  );\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\"\n});\n\nfunction SvgStar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-star\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStar);\nexport default __webpack_public_path__ + \"static/media/star.a5b18bc5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\"\n});\n\nfunction SvgStarFill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-star-fill\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStarFill);\nexport default __webpack_public_path__ + \"static/media/star-fill.72405014.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z\"\n});\n\nfunction SvgArrowLeftCircleFill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-arrow-left-circle-fill\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowLeftCircleFill);\nexport default __webpack_public_path__ + \"static/media/arrow-left-circle-fill.12ce3359.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\r\nimport { ReactComponent as StarIcon } from '../../shared/assets/icons/star.svg';\r\nimport { ReactComponent as StarFillIcon } from '../../shared/assets/icons/star-fill.svg';\r\nimport { ReactComponent as ArrowLeftIcon } from '../../shared/assets/icons/arrow-left-circle-fill.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport { APP_COLORS } from '../../shared';\r\n\r\nexport const ParticipantPhotoWrapperElement = styled.div`\r\n  display: flex;\r\n\r\n  .btn-dark {\r\n    width: 40%;\r\n    min-width: 12rem;\r\n    margin-top: 2rem;\r\n\r\n    &:last-child {\r\n      margin-top: 0.5rem;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const PhotoWrapperElement = styled.div`\r\n  width: 50%;\r\n  img {\r\n    max-width: 100%;\r\n  }\r\n`;\r\n\r\nexport const PhotoInfoBlockElement = styled.div`\r\n  width: 50%;\r\n  padding-left: 5%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const StarsWrapperElement = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: center;\r\n`;\r\n\r\nexport const StarIconElement = styled(StarIcon)`\r\n  cursor: pointer;\r\n  margin-right: 0.4rem;\r\n`;\r\n\r\nexport const StarFillIconElement = styled(StarFillIcon)`\r\n  cursor: pointer;\r\n  margin-right: 0.4rem;\r\n`;\r\n\r\nexport const MarkLabelElement = styled.span`\r\n  font-size: 1.5rem;\r\n  font-weight: 500;\r\n  margin-left: 0.5rem;\r\n`;\r\n\r\nexport const MarksWrapperElement = styled.div`\r\n  margin-top: 1rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const ArrowLeftIconElement = styled(ArrowLeftIcon)`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 1rem;\r\n  color: gray;\r\n`;\r\n\r\nexport const ArrowRightLinkElement = styled(Link)`\r\n  position: absolute;\r\n  top: 50%;\r\n  right: 1rem;\r\n  width: 6%;\r\n  height: 6%;\r\n  display: inline-block;\r\n\r\n  svg {\r\n    color: ${APP_COLORS.PRIMARY_BLACK};\r\n  }\r\n`;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z\"\n});\n\nfunction SvgArrowRightCircleFill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-arrow-right-circle-fill\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowRightCircleFill);\nexport default __webpack_public_path__ + \"static/media/arrow-right-circle-fill.d482b8af.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useMemo, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ParticipantPhotoWrapperElement,\r\n  PhotoWrapperElement,\r\n  PhotoInfoBlockElement,\r\n  StarsWrapperElement,\r\n  StarIconElement,\r\n  StarFillIconElement,\r\n  MarkLabelElement,\r\n  MarksWrapperElement,\r\n  ArrowLeftIconElement,\r\n  ArrowRightLinkElement,\r\n} from './elements';\r\nimport { photoPropType } from '../../shared/propTypes';\r\nimport { Link } from 'react-router-dom';\r\nimport { Loader } from '../../shared';\r\n\r\nimport { ReactComponent as ArrowRightIcon } from '../../shared/assets/icons/arrow-right-circle-fill.svg';\r\nimport { OverlayTrigger, Tooltip, Button } from 'react-bootstrap';\r\n\r\nconst getMarkStar = (currentMark, setMark, section, clickCallback = () => {}) => {\r\n  const props = {\r\n    key: `${section}-${currentMark}`,\r\n    height: '1.3rem',\r\n    width: '1.3rem',\r\n    onClick: clickCallback,\r\n  };\r\n\r\n  return currentMark > setMark ? (\r\n    <StarIconElement {...props} />\r\n  ) : (\r\n    <StarFillIconElement {...props} />\r\n  );\r\n};\r\n\r\nconst getFullImage = (photoLink) => {\r\n  return (photoLink && photoLink.split('=s220')[0]) || '';\r\n};\r\n\r\nexport const ParticipantPhoto = ({\r\n  participantId,\r\n  nominationId,\r\n  nominationName,\r\n  photo,\r\n  mark,\r\n  isLoading,\r\n  onMarkChange,\r\n}) => {\r\n  const marks = useMemo(() => [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], []);\r\n  const [look, setLook] = useState((mark && mark.look) || 0);\r\n  const [idea, setIdea] = useState((mark && mark.idea) || 0);\r\n  const [isImageLoading, setIsImageLoading] = useState(true);\r\n\r\n  const setMarks = (mark, type) => {\r\n    type == 'look' ? setLook(mark) : setIdea(mark);\r\n    onMarkChange({ mark, type });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLook((mark && mark.look) || 0);\r\n    setIdea((mark && mark.idea) || 0);\r\n  }, [mark, participantId, nominationId, setLook, setIdea]);\r\n\r\n  useEffect(() => {\r\n    setIsImageLoading(true);\r\n  }, [photo, setIsImageLoading]);\r\n\r\n  const setImageLoaded = () => setIsImageLoading(false);\r\n\r\n  return !isLoading ? (\r\n    (photo && (\r\n      <ParticipantPhotoWrapperElement>\r\n        <PhotoWrapperElement>\r\n          <ArrowLeftIconElement width=\"6%\" height=\"6%\" />\r\n\r\n          <ArrowRightLinkElement to=\"/nextPhoto\">\r\n            <OverlayTrigger overlay={<Tooltip>Перейти к неоцененной фотографии</Tooltip>}>\r\n              <ArrowRightIcon width=\"100%\" height=\"100%\" />\r\n            </OverlayTrigger>\r\n          </ArrowRightLinkElement>\r\n\r\n          <Link\r\n            to={`/photos/full-view/${nominationId}/${participantId}/${photo.link.replace(\r\n              'https://drive.google.com/uc?id=',\r\n              '',\r\n            )}`}\r\n          >\r\n            <img src={getFullImage(photo.link)} alt=\"Фото номинации\" onLoad={setImageLoaded}></img>\r\n          </Link>\r\n        </PhotoWrapperElement>\r\n        <PhotoInfoBlockElement>\r\n          <h3>{nominationName}</h3>\r\n          <p className=\"text-muted\">Участник {photo.name}</p>\r\n          <MarksWrapperElement>\r\n            <h4>Оценки:</h4>\r\n            <span>Идея:</span>\r\n            <StarsWrapperElement>\r\n              {marks.map((mark) => getMarkStar(mark, idea, 'idea', () => setMarks(mark, 'idea')))}\r\n              <MarkLabelElement className=\"text-muted\">{idea}</MarkLabelElement>\r\n            </StarsWrapperElement>\r\n            <span>Исполнение:</span>\r\n            <StarsWrapperElement>\r\n              {marks.map((mark) => getMarkStar(mark, look, 'look', () => setMarks(mark, 'look')))}\r\n              <MarkLabelElement className=\"text-muted\">{look}</MarkLabelElement>\r\n            </StarsWrapperElement>\r\n            <span className=\"text-muted\">Cредняя оценка - {(look + idea) / 2}</span>\r\n          </MarksWrapperElement>\r\n          <Button as={Link} variant=\"dark\" to={`/participants/${participantId}`}>\r\n            Профиль участника\r\n          </Button>\r\n          <Button as={Link} variant=\"dark\" to={`/nominations/${nominationId}`}>\r\n            Профиль номинации\r\n          </Button>\r\n        </PhotoInfoBlockElement>\r\n      </ParticipantPhotoWrapperElement>\r\n    )) || <h3>Фото не найдено</h3>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\n\r\nParticipantPhoto.propTypes = {\r\n  participantId: PropTypes.string.isRequired,\r\n  nominationId: PropTypes.string.isRequired,\r\n  photo: photoPropType,\r\n  nominationName: PropTypes.string.isRequired,\r\n  isLoading: PropTypes.bool,\r\n  mark: PropTypes.shape({\r\n    idea: PropTypes.number,\r\n    look: PropTypes.number,\r\n  }),\r\n  onMarkChange: PropTypes.func.isRequired,\r\n};\r\n","import { BasicService } from './BasicService';\r\nimport { requestAPI, snackbarHandler } from './request';\r\nconst localStoragePhotoKey = 'LAST_MARKED_PHOTO';\r\n\r\nclass PhotoService extends BasicService {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  async loadPhoto({ participantId, nominationId }) {\r\n    const response = await requestAPI(\r\n      `/photos/custom-id?participantId=${participantId}&nominationId=${nominationId}`,\r\n    );\r\n\r\n    if (!response || !response.data) {\r\n      return null;\r\n    }\r\n\r\n    return response.data;\r\n  }\r\n\r\n  getLastMarkedPhoto() {\r\n    const photo = localStorage.getItem(localStoragePhotoKey);\r\n    return photo ? JSON.parse(photo) : null;\r\n  }\r\n\r\n  setLastMarkedPhoto(photo) {\r\n    localStorage.setItem(localStoragePhotoKey, JSON.stringify(photo));\r\n  }\r\n\r\n  clean() {}\r\n}\r\n\r\nexport const photoService = new PhotoService();\r\n","import styled from 'styled-components';\r\n\r\nexport const ParticipantsWrapperElement = styled.div``;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { nominationPropType } from '../../shared/propTypes/nominations';\r\nimport { participantPropType } from '../../shared/propTypes/participants';\r\nimport { Table } from 'react-bootstrap';\r\nimport { ParticipantsWrapperElement } from './elements';\r\nimport { ReactComponent as ArrowIcon } from '../../shared/assets/icons/arrow-down-right-circle.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport { generateParticipantTableTds } from '../../shared/helpers/mark';\r\nimport { Loader } from '../../shared';\r\n\r\nexport const Participants = ({ participants, nominations, isLoading, marks }) => {\r\n  return (\r\n    <ParticipantsWrapperElement>\r\n      <h3>Участники </h3>\r\n      {(isLoading && <Loader />) || (\r\n        <Table hover bordered responsive striped size=\"sm\">\r\n          <thead>\r\n            <tr>\r\n              <th>№</th>\r\n              {nominations.map(({ name, id }) => (\r\n                <th key={id}>{name}</th>\r\n              ))}\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {generateParticipantTableTds(\r\n              nominations,\r\n              participants,\r\n              marks,\r\n              true,\r\n              ({ participant }) => (\r\n                <td>\r\n                  <Link to={`participants/${participant.id}`}>\r\n                    <ArrowIcon fill=\"black\" />\r\n                  </Link>\r\n                </td>\r\n              ),\r\n            )}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </ParticipantsWrapperElement>\r\n  );\r\n};\r\n\r\nParticipants.propTypes = {\r\n  participants: PropTypes.arrayOf(participantPropType).isRequired,\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  marks: PropTypes.object.isRequired,\r\n};\r\n","import { Card, Button } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\n\r\nexport const HomeWrapperElement = styled.div``;\r\n\r\nexport const CardsWrapperElement = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const CardLeftElement = styled(Card)`\r\n  max-height: 30rem;\r\n  overflow-y: auto;\r\n  margin-bottom: 1rem;\r\n  width: 70%;\r\n`;\r\n\r\nexport const CardRightElement = styled(Card)`\r\n  overflow-y: hidden;\r\n  margin-bottom: 1rem;\r\n  width: 20%;\r\n  margin-left: 2.5%;\r\n\r\n  img {\r\n    width: 90%;\r\n    margin-left: 5%;\r\n    margin-bottom: 5%;\r\n  }\r\n\r\n  & > span {\r\n    margin-left: 5%;\r\n    margin-top: 5%;\r\n  }\r\n`;\r\n\r\nexport const ButtonElement = styled(Button)`\r\n  margin-left: auto;\r\n`;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z\"\n});\n\nfunction SvgTrashFill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-trash2-fill\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrashFill);\nexport default __webpack_public_path__ + \"static/media/trash-fill.8e11048b.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\r\nimport { ReactComponent as TrashIcon } from '../../shared/assets/icons/trash-fill.svg';\r\nexport const ManagementWrapperElement = styled.div``;\r\n\r\nexport const ManagementHeaderElement = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const TrashElement = styled(TrashIcon)`\r\n  cursor: pointer;\r\n  &:hover {\r\n    fill: gray;\r\n  }\r\n`;\r\n","import React, { useCallback, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\n\r\nconst userInit = {\r\n  username: '',\r\n  name: '',\r\n};\r\n\r\nexport const CreateUserForm = ({ showModal, closeModal, onCreate, isCreatingUser }) => {\r\n  const [userForm, setUserForm] = useState(userInit);\r\n\r\n  const handleFormChange = useCallback(\r\n    (event) => {\r\n      setUserForm((user) => ({\r\n        ...user,\r\n        [event.target.name]: event.target.value,\r\n      }));\r\n    },\r\n    [setUserForm],\r\n  );\r\n\r\n  const handleCreate = useCallback(() => {\r\n    if (userForm.name && userForm.username && !isCreatingUser) {\r\n      onCreate(userForm);\r\n    }\r\n  }, [userForm, onCreate]);\r\n\r\n  return (\r\n    <Modal show={showModal} onHide={closeModal}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Создать пользователя</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form>\r\n          <Form.Group controlId=\"formName\">\r\n            <Form.Label>Имя *</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Введите имя\"\r\n              onChange={handleFormChange}\r\n              name=\"name\"\r\n            />\r\n            <Form.Text className=\"text-muted\">Фамилия и имя</Form.Text>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formUsername\">\r\n            <Form.Label>Логин *</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Введите логин\"\r\n              onChange={handleFormChange}\r\n              name=\"username\"\r\n            />\r\n\r\n            <Form.Text className=\"text-muted\">Используется для входа в систему </Form.Text>\r\n          </Form.Group>\r\n        </Form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={closeModal}>\r\n          Отменить\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleCreate} disabled={isCreatingUser}>\r\n          {(isCreatingUser && 'Создание...') || 'Создать'}\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nCreateUserForm.propTypes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n  onCreate: PropTypes.func.isRequired,\r\n  showModal: PropTypes.bool.isRequired,\r\n  isCreatingUser: PropTypes.bool.isRequired,\r\n};\r\n","import React, { useCallback, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Table, Modal, Form } from 'react-bootstrap';\r\nimport { ManagementWrapperElement, ManagementHeaderElement, TrashElement } from './elements';\r\nimport { userPropType } from '../../shared/propTypes';\r\nimport { CreateUserForm } from './CreateUserForm';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const Management = ({ users, onCreate, onDelete, isCreatingUser, isRemovingUser }) => {\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const closeModal = useCallback(() => {\r\n    setShowModal(false);\r\n  }, [setShowModal]);\r\n\r\n  const openModal = useCallback(() => {\r\n    setShowModal(true);\r\n  }, [setShowModal]);\r\n\r\n  const handleCreate = useCallback(\r\n    (userData) => {\r\n      onCreate && onCreate(userData);\r\n    },\r\n    [onCreate],\r\n  );\r\n\r\n  const handleDelete = useCallback(\r\n    (id) => () => {\r\n      onDelete && onDelete(id);\r\n    },\r\n    [onDelete],\r\n  );\r\n  return (\r\n    <>\r\n      <ManagementWrapperElement>\r\n        <ManagementHeaderElement>\r\n          <h3>Управление</h3>\r\n          <Button variant=\"dark\" onClick={openModal}>\r\n            Создать пользователя\r\n          </Button>\r\n        </ManagementHeaderElement>\r\n        <h4 className=\"text-muted\">Пользователи: </h4>\r\n        {isRemovingUser ? (\r\n          'Удаление пользователя...'\r\n        ) : (\r\n          <Table hover bordered responsive striped size=\"sm\">\r\n            <thead>\r\n              <tr>\r\n                <th>Имя</th>\r\n                <th>Имя пользователя</th>\r\n                <th>Роль</th>\r\n                <th>Удалить</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {(users || []).map(\r\n                (user) =>\r\n                  user.username && (\r\n                    <tr key={user.username}>\r\n                      <td>\r\n                        {user.role === 'judge' ? (\r\n                          <Link to={`management/${user._id}`}>{user.name}</Link>\r\n                        ) : (\r\n                          user.name\r\n                        )}\r\n                      </td>\r\n\r\n                      <td>{user.username}</td>\r\n                      <td>{user.role === 'judge' ? 'Жюри' : 'Админ'}</td>\r\n                      <td>\r\n                        {user.role === 'judge' ? (\r\n                          <TrashElement onClick={handleDelete(user._id)} />\r\n                        ) : (\r\n                          'Нельзя удалить'\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ),\r\n              ) || null}\r\n            </tbody>\r\n          </Table>\r\n        )}\r\n      </ManagementWrapperElement>\r\n      <CreateUserForm\r\n        showModal={showModal}\r\n        closeModal={closeModal}\r\n        onCreate={handleCreate}\r\n        isCreatingUser={isCreatingUser}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nManagement.propTypes = {\r\n  users: PropTypes.arrayOf(userPropType),\r\n  onCreate: PropTypes.func.isRequired,\r\n  onDelete: PropTypes.func.isRequired,\r\n  isCreatingUser: PropTypes.bool.isRequired,\r\n  isRemovingUser: PropTypes.bool.isRequired,\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.5 6.5a.5.5 0 0 0-1 0v3.793L6.354 9.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8.5 10.293V6.5z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\"\n});\n\nfunction SvgFileEarmarkArrowDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-file-earmark-arrow-down\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFileEarmarkArrowDown);\nexport default __webpack_public_path__ + \"static/media/file-earmark-arrow-down.d9e61c59.svg\";\nexport { ForwardRef as ReactComponent };","import { Button } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\nimport { ReactComponent as DownloadIcon } from '../../shared/assets/icons/file-earmark-arrow-down.svg';\r\nexport const JudgeProfileWrapperElement = styled.div``;\r\n\r\nexport const DownloadIconElement = styled(DownloadIcon)`\r\n  cursor: pointer;\r\n  margin-right: 5px;\r\n`;\r\n\r\nexport const DownloadButtonElement = styled(Button)`\r\n  display: flex;\r\n  margin-left: auto;\r\n`;\r\n","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DownloadButtonElement, DownloadIconElement, JudgeProfileWrapperElement } from './elements';\r\nimport { Button, Table } from 'react-bootstrap';\r\nimport { nominationPropType, participantPropType } from '../../shared/propTypes';\r\nimport { generateParticipantTableTds } from '../../shared/helpers/mark';\r\nimport { Loader } from '../../shared';\r\n\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\n\r\nconst handleFormatedMark = (formatedMarks, cb) => {\r\n  if (!formatedMarks.length) {\r\n    return [];\r\n  }\r\n\r\n  const keysToHandle = Object.keys(formatedMarks[0]).filter((field) => field !== ID_FIELD);\r\n  return formatedMarks.map((mark) => {\r\n    const handledMarks = keysToHandle.reduce(\r\n      (res, field) => ({\r\n        ...res,\r\n        [field]: mark[field] ? cb(mark[field]) : 'Нет фото',\r\n      }),\r\n      {},\r\n    );\r\n    return {\r\n      ...mark,\r\n      ...handledMarks,\r\n    };\r\n  });\r\n};\r\nconst ID_FIELD = 'Id участника';\r\n\r\nexport const JudgeProfile = ({ name, username, marks, isLoading, nominations, participants }) => {\r\n  const formatMarks = useCallback(() => {\r\n    const formatedMarks = participants.map((participant) => {\r\n      const participantMarks = nominations.reduce((res, nomination) => {\r\n        const currentMark =\r\n          (marks && marks[nomination.id] && marks[nomination.id][participant.id]) || null;\r\n        return {\r\n          ...res,\r\n          [nomination.name]: currentMark,\r\n        };\r\n      }, {});\r\n\r\n      return {\r\n        [ID_FIELD]: participant.id,\r\n        ...participantMarks,\r\n      };\r\n    });\r\n\r\n    return formatedMarks;\r\n  }, [participants, nominations, marks]);\r\n\r\n  const exportToCSV = useCallback(() => {\r\n    const formatedMarks = formatMarks();\r\n    const fileType =\r\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\n    const fileExtension = '.xlsx';\r\n\r\n    const avgMarks = handleFormatedMark(formatedMarks, (mark) => (mark.look + mark.idea) / 2);\r\n    const ideaMarks = handleFormatedMark(formatedMarks, (mark) => mark.look);\r\n    const lookMarks = handleFormatedMark(formatedMarks, (mark) => mark.idea);\r\n\r\n    const avgWs = XLSX.utils.json_to_sheet(avgMarks);\r\n    const ideaWs = XLSX.utils.json_to_sheet(ideaMarks);\r\n    const lookWs = XLSX.utils.json_to_sheet(lookMarks);\r\n\r\n    const wb = XLSX.utils.book_new();\r\n\r\n    XLSX.utils.book_append_sheet(wb, avgWs, 'Средние');\r\n    XLSX.utils.book_append_sheet(wb, ideaWs, 'Идея');\r\n    XLSX.utils.book_append_sheet(wb, lookWs, 'Реализация');\r\n\r\n    const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n    const data = new Blob([excelBuffer], { type: fileType });\r\n    FileSaver.saveAs(data, `Оценки ${name}${fileExtension}`);\r\n  }, [formatMarks]);\r\n\r\n  return !isLoading ? (\r\n    <JudgeProfileWrapperElement>\r\n      <header>\r\n        <h3>Жюри</h3>\r\n        <h3>{name}</h3>\r\n        <h4>логин: {username}</h4>\r\n        <DownloadButtonElement variant=\"dark\" onClick={exportToCSV}>\r\n          <DownloadIconElement width=\"1.2rem\" height=\"1.2rem\" />\r\n          Скачать оценки\r\n        </DownloadButtonElement>\r\n      </header>\r\n      <h4 className=\"text-muted\">Оценки: </h4>\r\n      {marks && (\r\n        <Table id=\"judge-table\" hover bordered responsive striped size=\"sm\">\r\n          <thead>\r\n            <tr>\r\n              <th>Участник</th>\r\n              {nominations.map((nomination) => (\r\n                <th key={nomination.id}>{nomination.name}</th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>{generateParticipantTableTds(nominations, participants, marks)}</tbody>\r\n        </Table>\r\n      )}\r\n    </JudgeProfileWrapperElement>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\n\r\nJudgeProfile.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  marks: PropTypes.object.isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n  participants: PropTypes.arrayOf(participantPropType).isRequired,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const ManagementPraticipantsWrapperElement = styled.div``;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\"\n});\n\nfunction SvgCheckCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-check-circle\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckCircle);\nexport default __webpack_public_path__ + \"static/media/check-circle.f93cc3a8.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Loader } from '../../shared';\r\nimport { ManagementPraticipantsWrapperElement } from './elements';\r\nimport { ReactComponent as DashIcon } from '../../shared/assets/icons/dash-circle.svg';\r\nimport { ReactComponent as CheckedIcon } from '../../shared/assets/icons/check-circle.svg';\r\n\r\nimport { OverlayTrigger, Table, Tooltip } from 'react-bootstrap';\r\nimport { nominationPropType, participantPropType } from '../../shared/propTypes';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const ManagementParticipants = ({ isLoading, marks, nominations, participants }) => {\r\n  return (\r\n    <ManagementPraticipantsWrapperElement>\r\n      <h3>Участники</h3>\r\n      {isLoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          <Table hover bordered responsive striped size=\"sm\">\r\n            <thead>\r\n              <tr>\r\n                <th>Участник </th>\r\n                {nominations.map((nomination) => (\r\n                  <th key={nomination.id}>{nomination.name}</th>\r\n                ))}\r\n                <th>\r\n                  <OverlayTrigger\r\n                    overlay={\r\n                      <Tooltip>\r\n                        <span>Все ли члены жюри оценили участника</span>\r\n                      </Tooltip>\r\n                    }\r\n                  >\r\n                    <span>Готовность</span>\r\n                  </OverlayTrigger>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {participants.map((participant) => (\r\n                <tr key={participant.id}>\r\n                  <td>\r\n                    <Link to={`/management/participants/${participant.id}`}>{participant.id}</Link>\r\n                  </td>\r\n                  {nominations.map((nomination) => {\r\n                    const value =\r\n                      marks && marks[participant.id] && marks[participant.id][nomination.id];\r\n                    return (\r\n                      <td key={`${participant.id}-${nomination.id}`}>\r\n                        {value ? (\r\n                          <OverlayTrigger\r\n                            overlay={\r\n                              <Tooltip>\r\n                                <div className=\"flex-center-column\">\r\n                                  <span>Идея: {value.idea}</span>\r\n                                  <span>Реализация: {value.look}</span>\r\n                                  <span>Средняя: {(value.idea + value.look) / 2}</span>\r\n                                </div>\r\n                              </Tooltip>\r\n                            }\r\n                          >\r\n                            <span>{(value.idea + value.look) / 2}</span>\r\n                          </OverlayTrigger>\r\n                        ) : (\r\n                          <OverlayTrigger\r\n                            overlay={\r\n                              <Tooltip>\r\n                                <span>Нет фото</span>\r\n                              </Tooltip>\r\n                            }\r\n                          >\r\n                            <span>-</span>\r\n                          </OverlayTrigger>\r\n                        )}\r\n                      </td>\r\n                    );\r\n                  })}\r\n                  <td>\r\n                    {!marks[participant.id].isFinished % 2 ? (\r\n                      <DashIcon fill=\"red\" />\r\n                    ) : (\r\n                      <CheckedIcon fill=\"green\" />\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </>\r\n      )}\r\n    </ManagementPraticipantsWrapperElement>\r\n  );\r\n};\r\n\r\nManagementParticipants.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n  marks: PropTypes.object.isRequired,\r\n  participants: PropTypes.arrayOf(participantPropType).isRequired,\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const FullViewPhotoWrapperElement = styled.div``;\r\n\r\nexport const OverlayElement = styled.div`\r\n  position: fixed;\r\n  overflow: auto;\r\n\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #1f1f1f;\r\n  opacity: 1;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  z-index: 100;\r\n\r\n  & > img {\r\n    height: 90%;\r\n  }\r\n\r\n  & span {\r\n    position: absolute;\r\n    bottom: 1%;\r\n    right: 50%;\r\n    transform: translateX(50%);\r\n    color: white;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { LoginContainer } from '../Login';\r\nimport { NominationsContainer } from '../Nominations';\r\nimport { NominationContainer } from '../Nomination';\r\nimport { ParticipantContainer } from '../Participant';\r\nimport { ParticipantPhotoContainer } from '../ParticipantPhoto';\r\nimport { ParticipantsContainer } from '../Participants';\r\nimport { Home } from '../Home';\r\nimport { ManagementContainer } from '../Management/ManagementContainer';\r\nimport { JudgeProfileContainer } from '../JudgeProfile/JudgeProfileContainer';\r\nimport { NextPhoto } from '../NextPhoto/NextPhoto';\r\nimport { ManagementParticipantsContainer } from '../ManagementParticipants/ManagementParticipantsContainer';\r\nimport { FullViewPhoto } from '../FullViewPhoto/FullViewPhoto';\r\n\r\nexport const judgeRoutes = [\r\n  { path: '/home', component: Home },\r\n  { path: '/participants', component: ParticipantsContainer },\r\n  { path: '/participants/:id', component: ParticipantContainer },\r\n  { path: '/nominations', component: NominationsContainer },\r\n  { path: '/nominations/:id', component: NominationContainer },\r\n  { path: '/photos/full-view/:nominationId/:participantId/:imgUrl', component: FullViewPhoto },\r\n  { path: '/photos/:nominationId/:participantId', component: ParticipantPhotoContainer },\r\n  { path: '/nextPhoto', component: NextPhoto },\r\n  { path: '/home', isRedirect: true },\r\n];\r\n\r\nexport const adminRoutes = [\r\n  { path: '/management/participants', component: ManagementParticipantsContainer },\r\n  { path: '/management/participants/:id', component: ParticipantContainer },\r\n  { path: '/management/nominations', component: NominationsContainer },\r\n  { path: '/management/nominations/:id', component: NominationContainer },\r\n  { path: '/management/:id', component: JudgeProfileContainer },\r\n  { path: '/management', component: ManagementContainer },\r\n  { path: '/management', isRedirect: true },\r\n];\r\n\r\nexport const notAuthRoutes = [\r\n  { path: '/login', component: LoginContainer },\r\n  { path: '/login', isRedirect: true },\r\n];\r\nconst generateRoute = ({ path, component, isRedirect = false }) =>\r\n  isRedirect ? (\r\n    <Redirect from=\"*\" key={`redirect-${path}`} to={path} />\r\n  ) : (\r\n    <Route path={path} key={path} exact component={component} />\r\n  );\r\n\r\nexport const generateRoutes = (isAuth, role) => {\r\n  if (isAuth === null) {\r\n    return null;\r\n  }\r\n\r\n  if (!isAuth) {\r\n    return notAuthRoutes.map((route) => generateRoute(route));\r\n  }\r\n\r\n  if (role === 'admin') {\r\n    return adminRoutes.map((route) => generateRoute(route));\r\n  }\r\n\r\n  return judgeRoutes.map((route) => generateRoute(route));\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { photoService } from '../../services/photo';\r\nimport {\r\n  HomeWrapperElement,\r\n  CardLeftElement,\r\n  CardRightElement,\r\n  CardsWrapperElement,\r\n} from './elements';\r\n\r\nexport const Home = () => {\r\n  const [lastMarkedPhoto, setLastMarkedPhoto] = useState(null);\r\n  useEffect(() => {\r\n    setLastMarkedPhoto(photoService.getLastMarkedPhoto());\r\n  }, [setLastMarkedPhoto]);\r\n  return (\r\n    <HomeWrapperElement>\r\n      <h4>Общее положение:</h4>\r\n      <CardsWrapperElement>\r\n        <CardLeftElement body>\r\n          <p>\r\n            Привет, мы очень рады, что ты решил нам помочь выбрать самые классные фотографии этого\r\n            сезона!\r\n          </p>\r\n          <p>\r\n            В этом сезоне участники общались с нашим ботом, разгадывали загадки, чтобы получить\r\n            больше локаций на выбор, могли выбрать день участия и даже точки, которые хотят\r\n            посетить:)\r\n          </p>\r\n          <p>Расскажу теперь немного о том, как проходил ФотоВело Choose your distance</p>\r\n          <p>\r\n            Механика проекта была такова: участники приезжали на нужную локацию ( на выбор из карты,\r\n            которую мы им давали) и после того, как сбросили свою геопозицию боту - получали тему\r\n            для фотографии.\r\n          </p>\r\n          <p>Таких точек было 8, следовательно и 8 тем для фотографий участники получили.</p>\r\n          <p>\r\n            Также было две дополнительные, для которых не нужных было ездить на специальные\r\n            локации.Также было две дополнительные, для которых не нужных было ездить на специальные\r\n            локации.\r\n          </p>\r\n          <p>\r\n            Все темы прописаны в эксель файле, для оценивания мы используем{' '}\r\n            <b>10-балльную систему</b> ( без десятичных значений) и оцениваем по двум критериям:\r\n          </p>\r\n          <ul>\r\n            <li>\r\n              <b>Идея</b> - это, то какой смысл участник хотел показатьс помощью фотографии. Так как\r\n              участники в основном не проф. фотографы, то нам важнее,чтобы задумка и смысл, который\r\n              был вложен в фотографию, тоже был оценен, и фотографию не судили по обложке\r\n            </li>\r\n            <li>\r\n              <b> Исполнение</b> - тут оценивается, как человек подошел к реализации своей задумки,\r\n              насколько он постарался, чтобы его идея была всем понятна.\r\n            </li>\r\n          </ul>\r\n          <p>\r\n            Одна из дополнительных номинаций - это ФотоИстория. Участникам каждый день бот выдавал\r\n            слово, и по итогу они сами могли сложить фразу - и сделать свою фотоисторию на эту тему.\r\n          </p>\r\n          <p>Темы прописаны в подписях фотографий.</p>\r\n          <p>\r\n            По времени мы бы хотелив среду уже провести награждение, поэтому в идеале получить твои\r\n            оценки до 10 утра среды\r\n          </p>\r\n        </CardLeftElement>\r\n        <CardRightElement>\r\n          <Card.Header>Последняя оценка</Card.Header>\r\n          {(lastMarkedPhoto &&\r\n            lastMarkedPhoto.look &&\r\n            lastMarkedPhoto.idea &&\r\n            lastMarkedPhoto.participantId &&\r\n            lastMarkedPhoto.nominationId &&\r\n            lastMarkedPhoto.link && (\r\n              <Card.Body>\r\n                <img src={lastMarkedPhoto.link}></img>\r\n                <Card.Text>\r\n                  <div>\r\n                    <b>Идея:</b>\r\n                    {' ' + lastMarkedPhoto.idea}\r\n                  </div>\r\n                  <div>\r\n                    <b>Реализация: </b>\r\n                    {' ' + lastMarkedPhoto.look}\r\n                  </div>\r\n                  <div>\r\n                    <Link\r\n                      to={`/photos/${lastMarkedPhoto.nominationId}/${lastMarkedPhoto.participantId}`}\r\n                    >\r\n                      Перейти\r\n                    </Link>\r\n                  </div>\r\n                </Card.Text>\r\n              </Card.Body>\r\n            )) || <span className=\"text-muted\">Нет сведений</span>}\r\n        </CardRightElement>\r\n      </CardsWrapperElement>\r\n      <Button as={Link} to=\"/nextPhoto\" variant=\"dark\">\r\n        Начать оценивать\r\n      </Button>\r\n    </HomeWrapperElement>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useAuthState } from '../../contexts';\r\nimport { nominationsService } from '../../services/nominations';\r\nimport { participantsService } from '../../services/participants';\r\nimport { Participants } from './Participants';\r\n\r\nexport const ParticipantsContainer = () => {\r\n  const [participants, setParticipants] = useState([]);\r\n  const [nominations, setNominations] = useState([]);\r\n  const [isLoadedNominations, setIsLoadedNominations] = useState(true);\r\n  const [isLoadedParticipants, setIsLoadedParticipants] = useState(true);\r\n  const { user } = useAuthState();\r\n\r\n  useEffect(() => {\r\n    const loadNominations = async () => {\r\n      const nominations = await nominationsService.loadNominations();\r\n      setNominations(nominations);\r\n      setIsLoadedNominations(false);\r\n    };\r\n    loadNominations();\r\n  }, [setIsLoadedNominations, setIsLoadedNominations]);\r\n\r\n  useEffect(() => {\r\n    const loadParticipants = async () => {\r\n      const participants = await participantsService.loadParticipants();\r\n      setParticipants(participants);\r\n      setIsLoadedParticipants(false);\r\n    };\r\n    loadParticipants();\r\n  }, [setParticipants, setIsLoadedParticipants]);\r\n\r\n  return (\r\n    <>\r\n      <Participants\r\n        participants={participants}\r\n        nominations={nominations}\r\n        isLoading={isLoadedNominations || isLoadedParticipants}\r\n        marks={user.marks || {}}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport { FullViewPhotoWrapperElement, OverlayElement } from './elements';\r\n\r\nexport const FullViewPhoto = () => {\r\n  const { participantId, nominationId, imgUrl } = useParams({});\r\n\r\n  return (\r\n    <FullViewPhotoWrapperElement>\r\n      <OverlayElement>\r\n        <img src={`https://drive.google.com/uc?id=${imgUrl}`} />\r\n\r\n        <Link to={`/photos/${nominationId}/${participantId}`}>\r\n          <span>Перейти к оцениванию</span>\r\n        </Link>\r\n      </OverlayElement>\r\n\r\n      {participantId + nominationId}\r\n    </FullViewPhotoWrapperElement>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { ParticipantPhoto } from './ParticipantPhoto';\r\nimport { useAuthState } from '../../contexts/AuthContext';\r\nimport { authService } from '../../services/auth';\r\nimport { photoService } from '../../services/photo';\r\n\r\nexport const ParticipantPhotoContainer = () => {\r\n  const { participantId, nominationId } = useParams({});\r\n  const [nominationName, setNominationName] = useState('');\r\n  const [photo, setPhoto] = useState();\r\n  // const [mark, setMark] = useState({});\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const { user, actions } = useAuthState();\r\n\r\n  const handleMarkChange = async ({ type, mark }) => {\r\n    const response = await authService.putMark({\r\n      type,\r\n      mark,\r\n      participantId,\r\n      nominationId,\r\n    });\r\n    const marks = response || { idea: 0, look: 0 };\r\n    user.marks[nominationId][participantId] = marks;\r\n\r\n    if (marks.look && marks.idea) {\r\n      actions.getNextMark();\r\n      photoService.setLastMarkedPhoto({\r\n        link: photo.link,\r\n        idea: marks.idea,\r\n        look: marks.look,\r\n        participantId,\r\n        nominationId,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadPhoto = async () => {\r\n      const loadedPhoto = await photoService.loadPhoto({\r\n        nominationId,\r\n        participantId,\r\n      });\r\n      if (loadedPhoto) {\r\n        setPhoto(loadedPhoto.photo);\r\n        setNominationName(loadedPhoto.nomination.name);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    loadPhoto();\r\n  }, [participantId, nominationId, setIsLoading, setNominationName, setPhoto]);\r\n\r\n  return (\r\n    <ParticipantPhoto\r\n      participantId={participantId}\r\n      nominationId={nominationId}\r\n      photo={photo}\r\n      mark={user.marks[nominationId][participantId]}\r\n      nominationName={nominationName}\r\n      isLoading={isLoading}\r\n      onMarkChange={handleMarkChange}\r\n    />\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { useAuthState } from '../../contexts';\r\n\r\nexport const NextPhoto = () => {\r\n  const { nextMark } = useAuthState();\r\n\r\n  return (\r\n    <Redirect\r\n      to={\r\n        nextMark && nextMark.nominationId && nextMark.participantId\r\n          ? `/photos/${nextMark.nominationId}/${nextMark.participantId}`\r\n          : ''\r\n      }\r\n    />\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { authService } from '../../services/auth';\r\nimport { nominationsService } from '../../services/nominations';\r\nimport { participantsService } from '../../services/participants';\r\nimport { ManagementParticipants } from './ManagementParticipants';\r\n\r\nexport const ManagementParticipantsContainer = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [marks, setMarks] = useState(null);\r\n  const [nominations, setNominations] = useState([]);\r\n  const [participants, setParticipants] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadMarks = async () => {\r\n      setIsLoading(true);\r\n      const loadedMarks = await authService.getMarkSums();\r\n      setMarks(loadedMarks);\r\n      setIsLoading(false);\r\n    };\r\n\r\n    loadMarks();\r\n  }, [setMarks, setIsLoading]);\r\n\r\n  useEffect(() => {\r\n    const loadNominations = async () => {\r\n      const nominations = await nominationsService.loadNominations();\r\n      setNominations(nominations);\r\n    };\r\n    loadNominations();\r\n  }, [setNominations]);\r\n\r\n  useEffect(() => {\r\n    const loadParticipants = async () => {\r\n      const participants = await participantsService.loadParticipants();\r\n      setParticipants(participants);\r\n    };\r\n    loadParticipants();\r\n  }, [setParticipants]);\r\n\r\n  return (\r\n    <ManagementParticipants\r\n      marks={marks}\r\n      isLoading={isLoading}\r\n      nominations={nominations}\r\n      participants={participants}\r\n    />\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { managementService } from '../../services/management';\r\nimport { nominationsService } from '../../services/nominations';\r\nimport { participantsService } from '../../services/participants';\r\nimport { JudgeProfile } from './JudgeProfile';\r\n\r\nexport const JudgeProfileContainer = () => {\r\n  const { id } = useParams();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [user, setUser] = useState({});\r\n  const [nominations, setNominations] = useState([]);\r\n  const [participants, setParticipants] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadUser = async () => {\r\n      setIsLoading(true);\r\n      const user = await managementService.loadUser(id);\r\n      setUser(user);\r\n      setIsLoading(false);\r\n    };\r\n    loadUser();\r\n  }, [setIsLoading, setUser]);\r\n\r\n  useEffect(() => {\r\n    const loadNominations = async () => {\r\n      const nominations = await nominationsService.loadNominations();\r\n      setNominations(nominations);\r\n    };\r\n    loadNominations();\r\n  }, [setNominations]);\r\n\r\n  useEffect(() => {\r\n    const loadParticipants = async () => {\r\n      const participants = await participantsService.loadParticipants();\r\n      setParticipants(participants);\r\n    };\r\n    loadParticipants();\r\n  }, [setParticipants]);\r\n\r\n  return (\r\n    user && (\r\n      <JudgeProfile\r\n        isLoading={isLoading}\r\n        name={user.name || ''}\r\n        username={user.username || ''}\r\n        marks={user.marks || {}}\r\n        nominations={nominations}\r\n        participants={participants}\r\n      />\r\n    )\r\n  );\r\n};\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { Management } from './Management';\r\n\r\nimport { managementService } from '../../services/management';\r\n\r\nexport const ManagementContainer = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [isCreatingUser, setIsCreatingUser] = useState(false);\r\n  const [isRemovingUser, setIsRemovingUser] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const users = await managementService.getUsers();\r\n      setUsers(users);\r\n    };\r\n\r\n    fetchData();\r\n  }, [setUsers]);\r\n\r\n  const handleCreate = useCallback(\r\n    (userData) => {\r\n      const createUser = async () => {\r\n        setIsCreatingUser(true);\r\n        await managementService.createJudge(userData);\r\n        setIsCreatingUser(false);\r\n      };\r\n\r\n      createUser();\r\n    },\r\n    [setIsCreatingUser],\r\n  );\r\n\r\n  const handleDelete = useCallback(\r\n    (id) => {\r\n      const deleteUser = async () => {\r\n        setIsRemovingUser(true);\r\n        await managementService.removeJudge(id);\r\n        setUsers(await managementService.getUsers());\r\n        setIsRemovingUser(false);\r\n      };\r\n\r\n      deleteUser();\r\n    },\r\n    [setIsRemovingUser, setUsers],\r\n  );\r\n\r\n  return (\r\n    <Management\r\n      users={users}\r\n      onCreate={handleCreate}\r\n      isCreatingUser={isCreatingUser}\r\n      isRemovingUser={isRemovingUser}\r\n      onDelete={handleDelete}\r\n    />\r\n  );\r\n};\r\n","import React, { useCallback } from 'react';\r\nimport { useAuthState } from '../../contexts';\r\nimport { Login } from './Login';\r\n\r\nexport const LoginContainer = () => {\r\n  const { actions } = useAuthState();\r\n\r\n  const handleClick = useCallback(\r\n    ({ username }) => {\r\n      actions.login(username);\r\n    },\r\n    [actions],\r\n  );\r\n  return <Login onClick={handleClick} />;\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.287 5.906c-.778.324-2.334.994-4.666 2.01-.378.15-.577.298-.595.442-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294.26.006.549-.1.868-.32 2.179-1.471 3.304-2.214 3.374-2.23.05-.012.12-.026.166.016.047.041.042.12.037.141-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8.154 8.154 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629.093.06.183.125.27.187.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.426 1.426 0 0 0-.013-.315.337.337 0 0 0-.114-.217.526.526 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09z\"\n});\n\nfunction SvgTelegram(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-telegram\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTelegram);\nexport default __webpack_public_path__ + \"static/media/telegram.f274afe0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z\"\n});\n\nfunction SvgInstagram(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-instagram\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInstagram);\nexport default __webpack_public_path__ + \"static/media/instagram.7a3b5420.svg\";\nexport { ForwardRef as ReactComponent };","import { Navbar } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\nimport { APP_COLORS } from '../../../shared';\r\nimport { ReactComponent as TelegramIcon } from '../../../shared/assets/icons/telegram.svg';\r\nimport { ReactComponent as InstagramIcon } from '../../../shared/assets/icons/instagram.svg';\r\n\r\nexport const NavbarElement = styled(Navbar)`\r\n  border-top: 1px solid ${APP_COLORS.LIGHT_BLUE_BORDER};\r\n\r\n  .navbar-nav > a.nav-link {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nexport const TelegramIconElement = styled(TelegramIcon)`\r\n  margin-right: 0.4rem;\r\n`;\r\n\r\nexport const InstagramIconElement = styled(InstagramIcon)`\r\n  margin-right: 0.4rem;\r\n`;\r\n","import React from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { InstagramIconElement, NavbarElement, TelegramIconElement } from './elements';\r\n\r\nexport const Footer = () => {\r\n  return (\r\n    <footer>\r\n      <NavbarElement className=\"justify-content-center\" bg=\"gray\">\r\n        <Nav>\r\n          <Nav.Link\r\n            href=\"https://www.instagram.com/fotovelomarafon/\"\r\n            color=\"black\"\r\n            target=\"_blanked\"\r\n          >\r\n            <InstagramIconElement />\r\n            Instagram\r\n          </Nav.Link>\r\n          {/* <Nav.Link href=\"https://vk.com/foto_velo\" target=\"_blanked\">\r\n            ВК\r\n          </Nav.Link> */}\r\n          <Nav.Link href=\"https://t.me/fotovelo\" target=\"_blanked\">\r\n            <TelegramIconElement />\r\n            Telegram\r\n          </Nav.Link>\r\n        </Nav>\r\n      </NavbarElement>\r\n    </footer>\r\n  );\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\r\n\r\nimport { APP_COLORS } from '../../shared';\r\nimport { HeaderContainer } from './Header';\r\nimport { generateRoutes } from './routerConfig';\r\nimport { useAuthState } from '../../contexts';\r\nimport { Footer } from './Footer/Footer';\r\nimport { useSnackbarContext } from '../../contexts/Snackbar/SnackbarContext';\r\nimport { managementService } from '../../services/management';\r\nimport { authService } from '../../services/auth';\r\n\r\nconst ContentElement = styled.main`\r\n  background-color: ${APP_COLORS.SUPER_LIGHT_GRAY};\r\n  min-height: calc(100% - 58px - 58px);\r\n  width: 100%;\r\n`;\r\n\r\nconst RouterWrapperElement = styled.div`\r\n  width: 80%;\r\n  margin-left: 10%;\r\n  // look up why margin doesnt work\r\n  padding-top: 30px;\r\n  padding-bottom: 2px;\r\n`;\r\n\r\nexport const Main = () => {\r\n  const { isLoggedIn, user } = useAuthState();\r\n  const { setSnackbarStatus } = useSnackbarContext();\r\n\r\n  useEffect(() => {\r\n    [managementService, authService].forEach((service) => {\r\n      service.setSnackbarChanger(setSnackbarStatus);\r\n    });\r\n  }, [setSnackbarStatus]);\r\n\r\n  const routes = generateRoutes(isLoggedIn, user && user.role);\r\n\r\n  return (\r\n    <Router>\r\n      {isLoggedIn && <HeaderContainer />}\r\n      <ContentElement>\r\n        <RouterWrapperElement>\r\n          <Switch>{routes}</Switch>\r\n        </RouterWrapperElement>\r\n      </ContentElement>\r\n      {isLoggedIn && <Footer />}\r\n    </Router>\r\n  );\r\n};\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React from 'react';\r\nimport { AuthProvider } from './contexts';\r\nimport { SnackbarProvider } from './contexts/Snackbar/SnackbarContext';\r\nimport { Main } from './pages/Main';\r\n\r\nfunction App() {\r\n  return (\r\n    <AuthProvider>\r\n      <SnackbarProvider>\r\n        <Main />\r\n      </SnackbarProvider>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}