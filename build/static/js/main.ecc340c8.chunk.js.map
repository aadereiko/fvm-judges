{"version":3,"sources":["services/request.js","services/BasicService.js","services/auth.js","contexts/AuthContext.jsx","contexts/Snackbar/elements.jsx","contexts/Snackbar/SnackbarContext.jsx","shared/styles/colors.js","shared/components/Loader/Loader.jsx","services/management.js","services/nominations.js","services/participants.js","pages/Main/Header/elements.jsx","pages/Main/Header/Header.jsx","pages/Main/Header/HeaderContainer.jsx","pages/Login/elements.jsx","pages/Login/Login.jsx","pages/Nominations/elements.jsx","shared/propTypes/nominations.js","shared/assets/icons/arrow-down-right-circle.svg","pages/Nominations/Nominations.jsx","pages/Nominations/NominationsContainer.jsx","pages/Nomination/elements.jsx","shared/propTypes/participants.js","shared/propTypes/photo.js","shared/propTypes/user.js","shared/assets/icons/dash-circle.svg","shared/helpers/elements.jsx","shared/helpers/mark.js","pages/Nomination/Nomination.jsx","pages/Nomination/NominationContainer.jsx","pages/Participant/elements.jsx","pages/Participant/ParticipantMarks/elements.jsx","pages/Participant/ParticipantMarks/ParticipantMarks.jsx","pages/Participant/Participant.jsx","pages/Participant/ParticipantContainer.jsx","shared/assets/icons/star.svg","shared/assets/icons/star-fill.svg","shared/assets/icons/arrow-left-circle-fill.svg","pages/ParticipantPhoto/elements.jsx","shared/assets/icons/arrow-right-circle-fill.svg","pages/ParticipantPhoto/ParticipantPhoto.jsx","services/photo.js","pages/Participants/elements.jsx","pages/Participants/Participants.jsx","pages/Home/elements.jsx","shared/assets/icons/trash-fill.svg","pages/Management/elements.jsx","pages/Management/CreateUserForm.jsx","pages/Management/Management.jsx","shared/assets/icons/file-earmark-arrow-down.svg","pages/JudgeProfile/elements.jsx","pages/JudgeProfile/JudgeProfile.jsx","pages/ManagementParticipants/elements.jsx","shared/assets/icons/check-circle.svg","mock/regions.js","pages/ManagementParticipants/ParticipantPlaces/elements.jsx","pages/ManagementParticipants/ParticipantPlaces/ParticipantPlaces.jsx","pages/ManagementParticipants/ManagementParticipants.jsx","pages/FullViewPhoto/elements.jsx","pages/Main/routerConfig.js","pages/Home/Home.jsx","pages/Participants/ParticipantsContainer.jsx","pages/FullViewPhoto/FullViewPhoto.jsx","pages/ParticipantPhoto/ParticipantPhotoContainer.jsx","pages/NextPhoto/NextPhoto.jsx","pages/ManagementParticipants/ManagementParticipantsContainer.jsx","pages/JudgeProfile/JudgeProfileContainer.jsx","pages/Management/ManagementContainer.jsx","pages/Login/LoginContainer.jsx","shared/assets/icons/telegram.svg","shared/assets/icons/instagram.svg","pages/Main/Footer/elements.jsx","pages/Main/Footer/Footer.jsx","pages/Main/Main.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["requestAPI","url","a","body","options","host","headers","Headers","append","authService","getCurrentToken","fetchOptions","JSON","stringify","fetch","then","response","json","catch","err","console","error","snackbarHandler","snackbarChanger","text","msg","isShown","BasicService","this","changer","TOKEN_KEY","_token","localStorage","getItem","_currentUser","isLoggedIn","_nextMark","_markSums","token","setItem","username","method","data","_setUserToken","user","warn","_isLoggedIn","name","login","role","marks","nomId","type","mark","nominationId","participantId","AuthContext","createContext","authDataDefault","status","nextMark","actions","logout","getNextMark","getNextNominationMark","AuthProvider","children","useState","authData","setAuthData","useCallback","state","nextNominationMark","useEffect","getCurrentUser","currentUser","fetchData","Provider","value","useAuthState","React","useContext","opacityKeyframe","keyframes","SnackbarWrapperElement","styled","div","SnackbarContext","snackbarInit","isSuccess","SnackbarProvider","snackbarStatus","setSnackbarStatus","closeTimeOut","setTimeout","clearTimeout","createPortal","document","getElementById","APP_COLORS","Loader","Spinner","animation","size","managementService","_cachedUsers","_cachedUser","_isCreatingJudge","_isRemovingJudge","_isLoadingJudge","length","_fetchUsers","push","id","filter","_id","nominationsService","_cachedNominations","_isLoadingNominations","sort","b","participantsService","_cachedParticipants","_isLoadingParticipants","NavbarElement","Navbar","Header","onLogout","isAdmin","adminPrefix","bg","Brand","as","Link","to","Nav","className","Button","variant","disabled","DropdownButton","title","menuAlign","Dropdown","Item","onClick","HeaderContainer","map","service","clean","LoginWrapperElement","CardElement","Card","FormElement","Form","Login","setUsernme","handleClick","e","preventDefault","Group","Label","Control","placeholder","onChange","target","NominationsWrapperElement","PropTypes","shape","oneOfType","string","number","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fillRule","d","SvgArrowDownRightCircle","_ref","svgRef","titleId","props","xmlns","width","height","fill","viewBox","ref","ForwardRef","Nominations","nominations","isLoading","Table","hover","bordered","responsive","striped","photos","NominationsContainer","setNominations","loadingStatus","setLoadingStatus","loadNominations","NominationWrapperElement","PhotosWrapperElement","photo","arrayOf","link","isRequired","oneOf","SvgDashCircle","FlexColumnCenteredWrapperElement","LinkToPhotoElement","generateParticipantTableTds","participants","isWithLinks","rightColumnsCallback","renderMarkCell","nomination","participant","ideaMark","lookMark","get","avgMark","OverlayTrigger","overlay","Tooltip","renderTooltipedMarkLabel","idea","look","avg","Nomination","withoutMarks","nominationPhotos","setPhotos","getPhotoLink","photoId","nomiationId","prevState","log","Img","loading","src","Body","Title","split","Text","NominationContainer","useParams","setName","setIsLoading","loadNomination","fetchNomination","ParticipantWrapperElement","ParticipantTitleElement","span","ParticipantMarksWrapperElement","ParticipantMarks","users","judges","Participant","allJudgeMarks","isAllJudgeMarksLoading","nominationKey","Fragment","index","ParticipantContainer","setParticipant","allJudgesMarks","setAllJudgesMarks","isMarksLoading","setIsMarksLoading","setUsers","loadParticipant","fetchParticipant","getMarksOfParticipant","loadMarks","getUsers","fetchUsers","SvgStar","SvgStarFill","SvgArrowLeftCircleFill","ParticipantPhotoWrapperElement","PhotoWrapperElement","PhotoInfoBlockElement","StarsWrapperElement","StarIconElement","StarIcon","StarFillIconElement","StarFillIcon","MarkLabelElement","MarksWrapperElement","ArrowRightLinkElement","ArrowLeftIcon","SvgArrowRightCircleFill","getMarkStar","currentMark","setMark","section","clickCallback","ParticipantPhoto","nominationName","onMarkChange","useMemo","setLook","setIdea","setIsImageLoading","nextPhoto","setNextPhoto","setMarks","getNextNominationPhoto","photoLink","replace","alt","onLoad","localStoragePhotoKey","photoService","parse","ParticipantsWrapperElement","Participants","HomeWrapperElement","CardsWrapperElement","CardLeftElement","CardRightElement","SvgTrashFill","ManagementWrapperElement","ManagementHeaderElement","header","TrashElement","TrashIcon","userInit","CreateUserForm","showModal","closeModal","onCreate","isCreatingUser","userForm","setUserForm","handleFormChange","event","handleCreate","Modal","show","onHide","closeButton","controlId","Footer","Management","onDelete","isRemovingUser","setShowModal","openModal","userData","handleDelete","SvgFileEarmarkArrowDown","JudgeProfileWrapperElement","DownloadIconElement","DownloadIcon","DownloadButtonElement","handleFormatedMark","formatedMarks","cb","keysToHandle","field","ID_FIELD","handledMarks","reduce","res","JudgeProfile","formatMarks","participantMarks","exportToCSV","avgMarks","ideaMarks","lookMarks","avgWs","XLSX","json_to_sheet","ideaWs","lookWs","wb","book_new","book_append_sheet","excelBuffer","bookType","Blob","FileSaver","ManagementPraticipantsWrapperElement","RegionTDElement","td","town","SvgCheckCircle","regionUsersMap","humanName","ParticipantPlacesWrapperElement","ParticipantPlaces","maxRegionSum","Number","MIN_VALUE","regionParticipants","maxMinskSum","minskParticipants","isMinsk","canUserBeWinner","userSum","j","points","regionsMax","minskMax","maxVal","maxParticipants","forEach","ManagementParticipants","isFinished","FullViewPhotoWrapperElement","OverlayElement","judgeRoutes","path","component","lastMarkedPhoto","setLastMarkedPhoto","getLastMarkedPhoto","href","setParticipants","isLoadedNominations","setIsLoadedNominations","isLoadedParticipants","setIsLoadedParticipants","loadParticipants","imgUrl","setNominationName","setPhoto","handleMarkChange","putMark","loadPhoto","loadedPhoto","isRedirect","adminRoutes","getMarkSums","loadedMarks","setUser","loadUser","setIsCreatingUser","setIsRemovingUser","createJudge","createUser","removeJudge","deleteUser","notAuthRoutes","generateRoute","from","exact","SvgTelegram","SvgInstagram","TelegramIconElement","TelegramIcon","InstagramIconElement","InstagramIcon","color","ContentElement","main","RouterWrapperElement","Main","setSnackbarChanger","isAuth","routes","route","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ecc340c8.chunk.js","sourcesContent":["import { authService } from './auth';\r\n\r\nexport const requestAPI = async (url, { body, ...options } = {}) => {\r\n  const host = '/api';\r\n  const headers = new Headers(options.headers);\r\n  headers.append('Content-Type', 'application/json');\r\n  headers.append('Authorization', `Bearer ${authService.getCurrentToken()}`);\r\n\r\n  const fetchOptions = {\r\n    // mode: 'cors',\r\n    headers,\r\n    body: body ? JSON.stringify(body) : null,\r\n    ...options,\r\n  };\r\n\r\n  return fetch(host + url, fetchOptions)\r\n    .then((response) => response.json())\r\n    .then((response) => response)\r\n    .catch((err) => {\r\n      console.error(err);\r\n    });\r\n};\r\n\r\nexport const snackbarHandler = (response, snackbarChanger) => {\r\n  if (response) {\r\n    const text = response.err || response.msg;\r\n    if (text) {\r\n      snackbarChanger({\r\n        isShown: true,\r\n        text,\r\n      });\r\n    }\r\n  }\r\n};\r\n","export class BasicService {\r\n  constructor() {\r\n    this.snackbarChanger = null;\r\n  }\r\n\r\n  setSnackbarChanger(changer) {\r\n    this.snackbarChanger = changer;\r\n  }\r\n}\r\n","import { requestAPI, snackbarHandler } from './request';\r\nimport { BasicService } from './BasicService';\r\n\r\nconst TOKEN_KEY = 'FVM_TOKEN';\r\n\r\nclass AuthService extends BasicService {\r\n  constructor() {\r\n    super();\r\n    this._token = localStorage.getItem(TOKEN_KEY);\r\n    this._currentUser = null;\r\n    this.isLoggedIn = !!this._token;\r\n    this._nextMark = null;\r\n    this._markSums = null;\r\n  }\r\n\r\n  _setUserToken(token) {\r\n    this._token = token;\r\n    localStorage.setItem(TOKEN_KEY, token);\r\n  }\r\n\r\n  async login(username) {\r\n    const response = await requestAPI('/users/auth', {\r\n      method: 'POST',\r\n      body: {\r\n        username,\r\n      },\r\n    });\r\n\r\n    if (response && response.data) {\r\n      this._setUserToken(response.data.token);\r\n      this._currentUser = response.data.user;\r\n    }\r\n\r\n    snackbarHandler(response, this.snackbarChanger);\r\n\r\n    if (response && response.data) {\r\n      return response.data.user;\r\n    }\r\n\r\n    console.warn('[Auth Service] Not valid username');\r\n    return null;\r\n  }\r\n\r\n  logout() {\r\n    this._isLoggedIn = false;\r\n    this._setUserToken(null);\r\n  }\r\n\r\n  getCurrentToken() {\r\n    return this._token;\r\n  }\r\n\r\n  clean() {\r\n    this._currentUser = null;\r\n    this._token = null;\r\n    this._nextMark = null;\r\n  }\r\n\r\n  async getCurrentUser() {\r\n    if (!this._token) {\r\n      console.warn('[Auth Service] User is not logged in');\r\n    }\r\n\r\n    const response = await requestAPI('/users/me');\r\n\r\n    if (!response || !response.data) {\r\n      return null;\r\n    }\r\n\r\n    const user = response.data;\r\n\r\n    return {\r\n      name: user.name,\r\n      login: user.username,\r\n      role: user.role,\r\n      marks: user.marks,\r\n    };\r\n  }\r\n\r\n  async getNextMark() {\r\n    const response = await requestAPI('/users/notMarked');\r\n\r\n    if (response && response.data) {\r\n      this._nextMark = response.data;\r\n    }\r\n\r\n    return this._nextMark;\r\n  }\r\n\r\n  async getNextNominationMark(nomId) {\r\n    const response = await requestAPI(`/users/notMarked/${nomId}`);\r\n\r\n    if (response && response.data) {\r\n      this._nextMark = response.data;\r\n    }\r\n\r\n    return this._nextMark;\r\n  }\r\n\r\n  async putMark({ type, mark, nominationId, participantId }) {\r\n    const response = await requestAPI(`/user/${nominationId}/${participantId}`, {\r\n      method: 'PUT',\r\n      body: {\r\n        type: type,\r\n        mark: mark,\r\n      },\r\n    });\r\n\r\n    snackbarHandler(response, this.snackbarChanger);\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async getMarkSums() {\r\n    const response = await requestAPI('/users/marks/sum');\r\n\r\n    if (response && response.data) {\r\n      this._markSums = response.data;\r\n    }\r\n\r\n    snackbarHandler(response, this.snackbarChanger);\r\n\r\n    return this._markSums;\r\n  }\r\n}\r\n\r\nexport const authService = new AuthService();\r\n","import React, { useCallback } from 'react';\r\nimport { createContext, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { authService } from '../services/auth';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst authDataDefault = {\r\n  user: null,\r\n  // null is not checked, false - not auth, true - auth\r\n  isLoggedIn: null,\r\n  status: 'pending',\r\n  nextMark: null,\r\n  actions: {\r\n    login: () => {},\r\n    logout: () => {},\r\n    getNextMark: () => {},\r\n    getNextNominationMark: (nomId) => getNextMark(nomId),\r\n  },\r\n};\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [authData, setAuthData] = useState(authDataDefault);\r\n\r\n  // actions\r\n  const login = useCallback(\r\n    async (username) => {\r\n      const user = await authService.login(username);\r\n      if (user) {\r\n        setAuthData((state) => ({\r\n          ...state,\r\n          status: 'success',\r\n          user,\r\n          error: 'null',\r\n          isLoggedIn: true,\r\n        }));\r\n      }\r\n    },\r\n    [setAuthData],\r\n  );\r\n\r\n  const logout = useCallback(() => {\r\n    authService.logout();\r\n    setAuthData((state) => ({\r\n      ...state,\r\n      user: null,\r\n      isLoggedIn: false,\r\n    }));\r\n  }, [setAuthData]);\r\n\r\n  const getNextMark = useCallback(async () => {\r\n    const mark = await authService.getNextMark();\r\n    if (mark) {\r\n      setAuthData((state) => ({\r\n        ...state,\r\n        nextMark: mark,\r\n      }));\r\n    }\r\n  }, [setAuthData]);\r\n\r\n  const getNextNominationMark = useCallback(\r\n    async (nomId) => {\r\n      const mark = await authService.getNextNominationMark(nomId);\r\n      if (mark) {\r\n        setAuthData((state) => ({\r\n          ...state,\r\n          nextNominationMark: mark,\r\n        }));\r\n      }\r\n    },\r\n    [setAuthData],\r\n  );\r\n\r\n  useEffect(() => {\r\n    const actions = {};\r\n    actions.login = login;\r\n    actions.logout = logout;\r\n    actions.getNextMark = getNextMark;\r\n    actions.getNextNominationMark = getNextNominationMark;\r\n\r\n    const fetchData = async () => {\r\n      const currentUser = await authService.getCurrentUser();\r\n      if (currentUser) {\r\n        setAuthData((state) => ({\r\n          ...state,\r\n          status: 'success',\r\n          user: currentUser,\r\n          isLoggedIn: true,\r\n          actions,\r\n        }));\r\n      } else {\r\n        setAuthData((state) => ({\r\n          ...state,\r\n          status: 'success',\r\n          isLoggedIn: false,\r\n          actions,\r\n        }));\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [setAuthData, login, logout, getNextMark, getNextNominationMark]);\r\n\r\n  return (\r\n    <AuthContext.Provider value={authData}>\r\n      {status !== 'pending' ? children : null}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nAuthProvider.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport function useAuthState() {\r\n  const state = React.useContext(AuthContext);\r\n  return state;\r\n}\r\n","import styled, { keyframes } from 'styled-components';\r\n\r\nconst opacityKeyframe = keyframes`\r\n  0% {\r\n    opacity: 0;\r\n  } \r\n\r\n  40%, 60% {\r\n    opacity: 0.8;\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n  }\r\n`;\r\n\r\nexport const SnackbarWrapperElement = styled.div`\r\n  min-width: 15rem;\r\n  min-height: 3rem;\r\n  background-color: black;\r\n  opacity: 0.8;\r\n  border-radius: 0.2rem;\r\n  color: white;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  animation: ${opacityKeyframe} 6s;\r\n  cursor: pointer;\r\n`;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createContext } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { SnackbarWrapperElement } from './elements';\r\n\r\nexport const SnackbarContext = createContext();\r\n\r\nconst snackbarInit = {\r\n  isShown: false,\r\n  isSuccess: false,\r\n  text: '',\r\n};\r\n\r\nexport const SnackbarProvider = ({ children }) => {\r\n  const [snackbarStatus, setSnackbarStatus] = useState(snackbarInit);\r\n\r\n  useEffect(() => {\r\n    if (snackbarStatus.isShown) {\r\n      const closeTimeOut = setTimeout(() => {\r\n        setSnackbarStatus({\r\n          isShown: false,\r\n          text: '',\r\n          isSuccess: false,\r\n        });\r\n      }, 6000);\r\n\r\n      return () => {\r\n        clearTimeout(closeTimeOut);\r\n      };\r\n    }\r\n  }, [snackbarStatus.isShown]);\r\n\r\n  return (\r\n    <SnackbarContext.Provider value={{ setSnackbarStatus }}>\r\n      {snackbarStatus.isShown &&\r\n        createPortal(\r\n          <SnackbarWrapperElement>{snackbarStatus.text}</SnackbarWrapperElement>,\r\n          document.getElementById('snackbar-container'),\r\n        )}\r\n      {children}\r\n    </SnackbarContext.Provider>\r\n  );\r\n};\r\n\r\nSnackbarProvider.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport function useSnackbarContext() {\r\n  const state = useContext(SnackbarContext);\r\n  return state;\r\n}\r\n","export const APP_COLORS = {\r\n  LIGHT_BLUE_BORDER: '#e0e7f0',\r\n  SUPER_LIGHT_GRAY: '#f9f9f9',\r\n  PRIMARY_BLACK: '#212529',\r\n};\r\n","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nexport const Loader = () => {\r\n  return (\r\n    <>\r\n      <Spinner animation=\"border\" size=\"sm\" /> ...\r\n    </>\r\n  );\r\n};\r\n","import { BasicService } from './BasicService';\r\nimport { requestAPI, snackbarHandler } from './request';\r\nclass ManagementService extends BasicService {\r\n  constructor() {\r\n    super();\r\n    this._cachedUsers = [];\r\n    this._cachedUser = null;\r\n    this._isCreatingJudge = false;\r\n    this._isRemovingJudge = false;\r\n    this._isLoadingJudge = false;\r\n  }\r\n\r\n  async _fetchUsers() {\r\n    const response = await requestAPI(`/users`);\r\n\r\n    if (response) {\r\n      if (response.data && response.data.length) {\r\n        this._cachedUsers = response.data;\r\n      }\r\n\r\n      return response.data;\r\n    }\r\n\r\n    return [];\r\n  }\r\n\r\n  async getUsers() {\r\n    if (this._cachedUsers && this._cachedUsers.length) {\r\n      return this._cachedUsers;\r\n    }\r\n\r\n    return this._fetchUsers();\r\n  }\r\n\r\n  async createJudge({ name, username }) {\r\n    if (!this._isCreatingJudge) {\r\n      this._isCreatingJudge = true;\r\n      const response = await requestAPI('/users', {\r\n        method: 'POST',\r\n        body: {\r\n          name,\r\n          username,\r\n          role: 'judge',\r\n        },\r\n      });\r\n\r\n      if (response && response.data) {\r\n        this._cachedUsers.push(response.data);\r\n      }\r\n\r\n      snackbarHandler(response, this.snackbarChanger);\r\n      this._isCreatingJudge = false;\r\n    }\r\n  }\r\n\r\n  async removeJudge(id) {\r\n    if (!this._isRemovingJudge) {\r\n      this._isRemovingJudge = true;\r\n      const response = await requestAPI(`/users/${id}`, {\r\n        method: 'DELETE',\r\n      });\r\n      if (response && response.data) {\r\n        this._cachedUsers = this._cachedUsers.filter((user) => user._id !== id);\r\n      }\r\n      snackbarHandler(response, this.snackbarChanger);\r\n\r\n      this._isRemovingJudge = false;\r\n    }\r\n  }\r\n\r\n  async loadUser(id) {\r\n    if (!this._cachedUser || this._cachedUser._id !== id) {\r\n      if (!this._isLoadingJudge) {\r\n        this._isLoadingJudge = true;\r\n        const { data } = await requestAPI(`/users/${id}`);\r\n        this._isLoadingJudge = false;\r\n\r\n        if (data) {\r\n          this._cachedUser = data;\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n    return this._cachedUser;\r\n  }\r\n\r\n  async getMarksOfParticipant(participantId) {\r\n    // not cacheable data\r\n    const response = await requestAPI(`/users/marks?participantId=${participantId}`);\r\n\r\n    if (!response || !response.data) {\r\n      return null;\r\n    }\r\n\r\n    return response.data;\r\n  }\r\n\r\n  async getBestMarks(participantId) {\r\n    // not cacheable data\r\n    const response = await requestAPI(`/users/marks/best`);\r\n\r\n    if (!response || !response.data) {\r\n      return null;\r\n    }\r\n\r\n    return response.data;\r\n  }\r\n\r\n  clean() {\r\n    this._cachedUsers = [];\r\n    this._cachedUser = null;\r\n    this._isCreatingJudge = false;\r\n    this._isRemovingJudge = false;\r\n    this._isLoadingJudge = false;\r\n  }\r\n}\r\n\r\nexport const managementService = new ManagementService();\r\n","import { requestAPI } from './request';\r\n\r\nclass NominationsService {\r\n  constructor() {\r\n    this._cachedNominations = [];\r\n    this._isLoadingNominations = false;\r\n  }\r\n\r\n  async loadNominations() {\r\n    if (!this._cachedNominations || !this._cachedNominations.length) {\r\n      const response = await requestAPI(`/nominations`);\r\n\r\n      if (response && response.data && response.data.length) {\r\n        this._cachedNominations = response.data.sort((a, b) => b.id - a.id);\r\n      }\r\n    }\r\n    return this._cachedNominations;\r\n  }\r\n\r\n  async loadNomination(id) {\r\n    const response = await requestAPI(`/nominations/custom-id/${id}`);\r\n\r\n    if (!response || !response.data) {\r\n      return null;\r\n    }\r\n\r\n    return response.data;\r\n  }\r\n\r\n  clean() {\r\n    this._cachedNominations = [];\r\n    this._isLoadingNominations = false;\r\n  }\r\n}\r\n\r\nexport const nominationsService = new NominationsService();\r\n","import { BasicService } from './BasicService';\r\nimport { requestAPI } from './request';\r\n\r\nclass ParticipantsService extends BasicService {\r\n  constructor() {\r\n    super();\r\n    this._cachedParticipants = [];\r\n    this._isLoadingParticipants = false;\r\n  }\r\n\r\n  async loadParticipants() {\r\n    if (!this._cachedParticipants || !this._cachedParticipants.length) {\r\n      const { data } = await requestAPI(`/participants`);\r\n\r\n      if (data && data.length) {\r\n        this._cachedParticipants = data.sort((a, b) => a.id - b.id);\r\n      }\r\n    }\r\n    return this._cachedParticipants;\r\n  }\r\n\r\n  async loadParticipant(id) {\r\n    const response = await requestAPI(`/participants/custom-id/${id}`);\r\n\r\n    if (!response || !response.data) {\r\n      return null;\r\n    }\r\n\r\n    return response.data;\r\n  }\r\n\r\n  clean() {\r\n    this._cachedParticipants = [];\r\n    this._isLoadingParticipants = false;\r\n  }\r\n}\r\n\r\nexport const participantsService = new ParticipantsService();\r\n","import { Navbar } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\nimport { APP_COLORS } from '../../../shared';\r\n\r\nexport const NavbarElement = styled(Navbar)`\r\n  border-bottom: 1px solid ${APP_COLORS.LIGHT_BLUE_BORDER};\r\n\r\n  .btn.btn-dark {\r\n    margin-right: 1rem;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Dropdown, Nav, Navbar, DropdownButton, Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { NavbarElement } from './elements';\r\n\r\nexport const Header = ({ name, onLogout, role, nextMark }) => {\r\n  const isAdmin = role === 'admin';\r\n  const adminPrefix = isAdmin ? '/management' : '';\r\n  return (\r\n    <div>\r\n      <NavbarElement bg=\"gray\">\r\n        <Navbar.Brand as={Link} to=\"/home\">\r\n          .\r\n        </Navbar.Brand>\r\n        <Nav className=\"mr-auto\">\r\n          {isAdmin && (\r\n            <Nav.Link as={Link} to=\"/management\">\r\n              \r\n            </Nav.Link>\r\n          )}\r\n          <Nav.Link as={Link} to={`${adminPrefix}/nominations`}>\r\n            \r\n          </Nav.Link>\r\n          <Nav.Link as={Link} to={`${adminPrefix}/participants`}>\r\n            \r\n          </Nav.Link>\r\n        </Nav>\r\n        {!isAdmin && (\r\n          <Button\r\n            as={Link}\r\n            // to={nextMark ? `/photos/${nextMark.nominationId}/${nextMark.participantId}` : '#'}\r\n            to={nextMark ? `/nextPhoto` : '#'}\r\n            variant=\"dark\"\r\n            disabled={!nextMark}\r\n          >\r\n            \r\n          </Button>\r\n        )}\r\n\r\n        <DropdownButton variant=\"light\" title={name} menuAlign=\"right\">\r\n          <Dropdown.Item onClick={onLogout}></Dropdown.Item>\r\n        </DropdownButton>\r\n      </NavbarElement>\r\n    </div>\r\n  );\r\n};\r\n\r\nHeader.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  onLogout: PropTypes.func.isRequired,\r\n  role: PropTypes.oneOf(['judge', 'admin']),\r\n  nextMark: PropTypes.shape({\r\n    nominationId: PropTypes.string,\r\n    participantId: PropTypes.string,\r\n  }),\r\n};\r\n","import React, { useCallback, useState, useEffect } from 'react';\r\nimport { useAuthState } from '../../../contexts';\r\nimport { authService } from '../../../services/auth';\r\nimport { managementService } from '../../../services/management';\r\nimport { nominationsService } from '../../../services/nominations';\r\nimport { participantsService } from '../../../services/participants';\r\nimport { Header } from './Header';\r\n\r\nexport const HeaderContainer = () => {\r\n  const { user, actions, nextMark } = useAuthState();\r\n\r\n  useEffect(() => {\r\n    actions.getNextMark();\r\n  }, []);\r\n\r\n  const onLogout = useCallback(() => {\r\n    actions.logout();\r\n\r\n    [managementService, nominationsService, participantsService, authService].map(\r\n      (service) => service && service.clean && service.clean(),\r\n    );\r\n  }, [actions]);\r\n\r\n  return <Header name={`${user.name}`} role={user.role} onLogout={onLogout} nextMark={nextMark} />;\r\n};\r\n","import { Card, Form } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\n\r\nexport const LoginWrapperElement = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nexport const CardElement = styled(Card)`\r\n  width: 25rem;\r\n  height: 12rem;\r\n`;\r\n\r\nexport const FormElement = styled(Form)`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  .form-group {\r\n    width: 90%;\r\n  }\r\n\r\n  .btn-dark {\r\n    width: 7rem;\r\n  }\r\n`;\r\n","import React, { useState, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { LoginWrapperElement, CardElement, FormElement } from './elements';\r\n\r\nexport const Login = ({ onClick }) => {\r\n  const [username, setUsernme] = useState('');\r\n\r\n  const handleClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      onClick && onClick({ username });\r\n    },\r\n    [username, onClick],\r\n  );\r\n\r\n  return (\r\n    <LoginWrapperElement>\r\n      <h3>.</h3>\r\n      <CardElement body>\r\n        <FormElement>\r\n          <Form.Group>\r\n            <Form.Label></Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\" \"\r\n              onChange={(e) => setUsernme(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Button variant=\"dark\" type=\"submit\" onClick={handleClick} disabled={!username}>\r\n            \r\n          </Button>\r\n        </FormElement>\r\n      </CardElement>\r\n    </LoginWrapperElement>\r\n  );\r\n};\r\n\r\nLogin.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const NominationsWrapperElement = styled.div``;\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const nominationPropType = PropTypes.shape({\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  name: PropTypes.string,\r\n});\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.854 5.146a.5.5 0 1 0-.708.708L9.243 9.95H6.475a.5.5 0 1 0 0 1h3.975a.5.5 0 0 0 .5-.5V6.475a.5.5 0 1 0-1 0v2.768L5.854 5.146z\"\n});\n\nfunction SvgArrowDownRightCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-arrow-down-right-circle\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDownRightCircle);\nexport default __webpack_public_path__ + \"static/media/arrow-down-right-circle.2a66fcc9.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Table } from 'react-bootstrap';\r\nimport { nominationPropType } from '../../shared/propTypes/nominations';\r\nimport { NominationsWrapperElement } from './elements';\r\nimport { ReactComponent as ArrowIcon } from '../../shared/assets/icons/arrow-down-right-circle.svg';\r\n// import { ReactComponent as CheckedIcon } from '../../shared/assets/icons/check-circle.svg';\r\n// import { ReactComponent as DashIcon } from '../../shared/assets/icons/dash-circle.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport { Loader } from '../../shared';\r\n\r\nexport const Nominations = ({ nominations, isLoading }) => {\r\n  return (\r\n    <NominationsWrapperElement>\r\n      <h3></h3>\r\n      {(isLoading && <Loader />) || (\r\n        <Table hover bordered responsive striped>\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {nominations.map(({ name, id, photos }) => (\r\n              <tr key={id}>\r\n                <td>\r\n                  <b>{name}</b>\r\n                </td>\r\n                {/* <td>{id}</td>\r\n                <td>{id}</td>\r\n                <td>{id % 2 ? <DashIcon fill=\"red\" /> : <CheckedIcon fill=\"green\" />}</td> */}\r\n                <td>\r\n                  <Link to={`nominations/${id}`}>\r\n                    <ArrowIcon fill=\"black\" />\r\n                  </Link>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </NominationsWrapperElement>\r\n  );\r\n};\r\n\r\nNominations.propTypes = {\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { nominationsService } from '../../services/nominations';\r\nimport { Nominations } from './Nominations';\r\n\r\nexport const NominationsContainer = () => {\r\n  const [nominations, setNominations] = useState([]);\r\n  const [loadingStatus, setLoadingStatus] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const loadNominations = async () => {\r\n      const nominations = await nominationsService.loadNominations();\r\n      setNominations(nominations);\r\n      setLoadingStatus(false);\r\n    };\r\n    loadNominations();\r\n  }, [setNominations, setLoadingStatus]);\r\n\r\n  return <Nominations nominations={nominations} isLoading={loadingStatus} />;\r\n};\r\n","import styled from 'styled-components';\r\nimport { Card } from 'react-bootstrap';\r\n\r\nexport const NominationWrapperElement = styled.div``;\r\n\r\nexport const CardElement = styled(Card)`\r\n  width: calc(20% - 30px);\r\n  margin: 5px;\r\n`;\r\n\r\nexport const PhotosWrapperElement = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const participantPropType = PropTypes.shape({\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  nominations: PropTypes.shape({\r\n    id: PropTypes.shape({\r\n      photo: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n          name: PropTypes.string,\r\n          link: PropTypes.string,\r\n        }),\r\n      ),\r\n    }),\r\n  }),\r\n});\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const photoPropType = PropTypes.shape({\r\n  link: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n});\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const userPropType = PropTypes.shape({\r\n  name: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  role: PropTypes.oneOf(['judge', 'admin']),\r\n  _id: PropTypes.string.isRequired,\r\n});\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"\n});\n\nfunction SvgDashCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-dash-circle\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDashCircle);\nexport default __webpack_public_path__ + \"static/media/dash-circle.77321307.svg\";\nexport { ForwardRef as ReactComponent };","import { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport const FlexColumnCenteredWrapperElement = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const LinkToPhotoElement = styled(Link)`\r\n  text-decoration: none;\r\n  color: black;\r\n`;\r\n","import React from 'react';\r\nimport get from 'lodash.get';\r\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport { ReactComponent as DashIcon } from '../../shared/assets/icons/dash-circle.svg';\r\nimport { FlexColumnCenteredWrapperElement, LinkToPhotoElement } from './elements';\r\n\r\nexport const generateParticipantTableTds = (\r\n  nominations,\r\n  participants,\r\n  marks,\r\n  isWithLinks = false,\r\n  rightColumnsCallback = () => {},\r\n) => {\r\n  const renderMarkCell = ({ nomination, participant, ideaMark, lookMark }) => {\r\n    return isWithLinks ? (\r\n      <LinkToPhotoElement to={`/photos/${nomination.id}/${participant.id}`}>\r\n        {ideaMark}\r\n        <span className=\"text-muted\">{' | '}</span>\r\n        {lookMark}\r\n      </LinkToPhotoElement>\r\n    ) : (\r\n      <div>\r\n        {ideaMark}\r\n        <span className=\"text-muted\">{' | '}</span>\r\n        {lookMark}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return participants.map((participant) => (\r\n    <tr key={participant._id}>\r\n      <td>{participant.id}</td>\r\n      {nominations.map((nomination) => {\r\n        const ideaMark = get(marks, `${nomination.id}.${participant.id}.idea`, false);\r\n        const lookMark = get(marks, `${nomination.id}.${participant.id}.look`, false);\r\n        const avgMark = ideaMark && lookMark ? (ideaMark + lookMark) / 2 : 0;\r\n\r\n        return marks && marks[nomination.id] && marks[nomination.id][participant.id] ? (\r\n          <td className=\"text-center\" key={`${participant._id}-${nomination._id}`}>\r\n            <OverlayTrigger\r\n              overlay={\r\n                <Tooltip>\r\n                  <FlexColumnCenteredWrapperElement>\r\n                    <span>: {ideaMark}</span>\r\n                    <span>: {lookMark}</span>\r\n                    <span>: {avgMark}</span>\r\n                  </FlexColumnCenteredWrapperElement>\r\n                </Tooltip>\r\n              }\r\n            >\r\n              {renderMarkCell({ nomination, participant, ideaMark, lookMark })}\r\n            </OverlayTrigger>\r\n          </td>\r\n        ) : (\r\n          <td className=\"text-center\" key={`${participant._id}-${nomination._id}`}>\r\n            <OverlayTrigger\r\n              overlay={\r\n                <Tooltip>\r\n                  <span> </span>\r\n                </Tooltip>\r\n              }\r\n            >\r\n              {/* <DashIcon fill=\"red\" />\r\n               */}\r\n              <span>-</span>\r\n            </OverlayTrigger>\r\n          </td>\r\n        );\r\n      })}\r\n      {rightColumnsCallback && rightColumnsCallback({ participant })}\r\n    </tr>\r\n  ));\r\n};\r\n\r\nexport const renderTooltipedMarkLabel = ({ idea, look } = { idea: 0, look: 0 }) => {\r\n  const avg = idea && look ? (idea + look) / 2 : 0;\r\n\r\n  return (\r\n    <OverlayTrigger\r\n      overlay={\r\n        <Tooltip>\r\n          <FlexColumnCenteredWrapperElement>\r\n            <span>: {idea}</span>\r\n            <span>: {look}</span>\r\n            <span>: {avg}</span>\r\n          </FlexColumnCenteredWrapperElement>\r\n        </Tooltip>\r\n      }\r\n    >\r\n      <div>\r\n        {idea}\r\n        <span className=\"text-muted\">{' | '}</span>\r\n        {look}\r\n      </div>\r\n    </OverlayTrigger>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { NominationWrapperElement, CardElement, PhotosWrapperElement } from './elements';\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { photoPropType } from '../../shared/propTypes';\r\nimport { Loader } from '../../shared';\r\nimport { renderTooltipedMarkLabel } from '../../shared/helpers/mark';\r\n\r\nexport const Nomination = ({ name, id, photos, isLoading, marks, withoutMarks, isAdmin }) => {\r\n  const [nominationPhotos, setPhotos] = useState({});\r\n  const getPhotoLink = async (photoId, nomiationId) => {\r\n    fetch(`\r\n      /api/google/photo/${photoId}\r\n    `)\r\n      .then((response) => response.json())\r\n      .then(({ name, link, id }) => {\r\n        setPhotos((prevState) => ({ ...prevState, [nomiationId]: { name, link, id } }));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    photos.map((photo) => getPhotoLink(photo.id, photo.name));\r\n  }, [photos]);\r\n  return (\r\n    <NominationWrapperElement>\r\n      <h3>{name}</h3>\r\n      {(isLoading && <Loader />) || (\r\n        <>\r\n          <h4 className=\"text-muted\">: </h4>\r\n          <PhotosWrapperElement>\r\n            {photos.map((photo) => (\r\n              <CardElement key={photo.name}>\r\n                <Card.Img\r\n                  variant=\"top\"\r\n                  loading=\"lazy\"\r\n                  src={nominationPhotos[photo.name] ? nominationPhotos[photo.name].link : ''}\r\n                />\r\n                <Card.Body>\r\n                  <Card.Title> {photo.name.split('_')[0]}</Card.Title>\r\n                  {!withoutMarks && (\r\n                    <Card.Text>\r\n                      <span className=\"text-muted\">:</span>\r\n                      {renderTooltipedMarkLabel(marks[id][photo.name.split('_')[0]])}\r\n                    </Card.Text>\r\n                  )}\r\n                  <Card.Link\r\n                    as={Link}\r\n                    to={`${isAdmin ? '/management' : ''}/participants/${photo.name.split('_')[0]}`}\r\n                  >\r\n                    \r\n                  </Card.Link>\r\n                  <br></br>\r\n                  {!withoutMarks && (\r\n                    <Card.Link as={Link} to={`/photos/${id}/${photo.name.split('_')[0]}`}>\r\n                      \r\n                    </Card.Link>\r\n                  )}\r\n                </Card.Body>\r\n              </CardElement>\r\n            ))}\r\n          </PhotosWrapperElement>\r\n        </>\r\n      )}\r\n    </NominationWrapperElement>\r\n  );\r\n};\r\n\r\nNomination.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  photos: PropTypes.arrayOf(photoPropType).isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  withoutMarks: PropTypes.bool.isRequired,\r\n  isAdmin: PropTypes.bool.isRequired,\r\n  marks: PropTypes.object.isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useAuthState } from '../../contexts';\r\nimport { nominationsService } from '../../services/nominations';\r\nimport { Nomination } from './Nomination';\r\n\r\nexport const NominationContainer = () => {\r\n  const { user } = useAuthState();\r\n  const { id } = useParams();\r\n  const [name, setName] = useState('');\r\n  const [photos, setPhotos] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const isAdmin = user.role === 'admin';\r\n\r\n  useEffect(() => {\r\n    const fetchNomination = async () => {\r\n      const nomination = await nominationsService.loadNomination(id);\r\n      setName(nomination.name);\r\n      setPhotos(nomination.photos);\r\n      setIsLoading(false);\r\n    };\r\n    fetchNomination();\r\n  }, [setIsLoading]);\r\n\r\n  return (\r\n    <Nomination\r\n      name={name}\r\n      id={id}\r\n      photos={photos}\r\n      isLoading={isLoading}\r\n      marks={user.marks}\r\n      withoutMarks={isAdmin}\r\n      isAdmin={isAdmin}\r\n    />\r\n  );\r\n};\r\n","import { Card } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\n\r\nexport const ParticipantWrapperElement = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nexport const ParticipantTitleElement = styled.span`\r\n  font-size: 1.2rem;\r\n  font-weight: 500;\r\n`;\r\n\r\nexport const PhotosWrapperElement = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nexport const CardElement = styled(Card)`\r\n  width: calc(30% - 30px);\r\n  margin: 5px;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const ParticipantMarksWrapperElement = styled.div``;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Table } from 'react-bootstrap';\r\nimport { ParticipantMarksWrapperElement } from './elements';\r\nimport { nominationPropType, userPropType } from '../../../shared/propTypes';\r\nimport { renderTooltipedMarkLabel } from '../../../shared/helpers/mark';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const ParticipantMarks = ({ marks, nominations, users }) => {\r\n  const usernames = Object.keys(marks[Object.keys(marks)[0]]);\r\n  const judges = users.filter(({ role }) => role === 'judge');\r\n\r\n  return (\r\n    <ParticipantMarksWrapperElement>\r\n      <Table hover bordered responsive striped size=\"sm\">\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            {nominations.map((nomination) => (\r\n              <th key={nomination.id}>{nomination.name}</th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {judges.map(({ username, name, _id }) => (\r\n            <tr key={username}>\r\n              <td>\r\n                <Link to={`/management/${_id}`}>{name}</Link>\r\n              </td>\r\n              {nominations.map((nomination) => {\r\n                const value = marks[nomination.id][username];\r\n\r\n                return (\r\n                  <td key={`${username}-${nomination.id}`}>\r\n                    {(value && renderTooltipedMarkLabel(value)) || '-'}\r\n                  </td>\r\n                );\r\n              })}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </Table>\r\n    </ParticipantMarksWrapperElement>\r\n  );\r\n};\r\n\r\nParticipantMarks.propTypes = {\r\n  marks: PropTypes.object.isRequired,\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n  users: PropTypes.arrayOf(userPropType).isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  ParticipantTitleElement,\r\n  ParticipantWrapperElement,\r\n  PhotosWrapperElement,\r\n  CardElement,\r\n} from './elements';\r\nimport PropTypes from 'prop-types';\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { Loader } from '../../shared';\r\nimport { renderTooltipedMarkLabel } from '../../shared/helpers/mark';\r\nimport { ParticipantMarks } from './ParticipantMarks/ParticipantMarks';\r\nimport { nominationPropType, userPropType } from '../../shared/propTypes';\r\n\r\nexport const Participant = ({\r\n  id,\r\n  participant,\r\n  isLoading,\r\n  marks,\r\n  withoutMarks,\r\n  isAdmin,\r\n  allJudgeMarks,\r\n  isAllJudgeMarksLoading,\r\n  nominations,\r\n  users,\r\n}) => {\r\n  const [photos, setPhotos] = useState({});\r\n  const getPhotoLink = async (photoId, nomiationId) => {\r\n    fetch(`\r\n      /api/google/photo/${photoId}\r\n    `)\r\n      .then((response) => response.json())\r\n      .then(({ name, link, id }) => {\r\n        setPhotos((prevState) => ({ ...prevState, [nomiationId]: { name, link, id } }));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    Object.keys(participant.nominations).map((nominationKey) =>\r\n      participant.nominations[nominationKey].photo.map((photo) =>\r\n        getPhotoLink(photo.id, nominationKey),\r\n      ),\r\n    );\r\n  }, []);\r\n  return (\r\n    <ParticipantWrapperElement>\r\n      <h3> {id}</h3>\r\n      {(isLoading && <Loader />) || (\r\n        <>\r\n          {isAdmin && (\r\n            <>\r\n              <ParticipantTitleElement className=\"text-muted\"> :</ParticipantTitleElement>\r\n              {isAllJudgeMarksLoading ? (\r\n                <Loader />\r\n              ) : (\r\n                <ParticipantMarks marks={allJudgeMarks} nominations={nominations} users={users} />\r\n              )}\r\n              <hr></hr>\r\n            </>\r\n          )}\r\n          <ParticipantTitleElement className=\"text-muted\">:</ParticipantTitleElement>\r\n          <PhotosWrapperElement>\r\n            {Object.keys(participant.nominations).map((nominationKey) => (\r\n              <React.Fragment key={nominationKey}>\r\n                {nominationKey != '0' && (\r\n                  <CardElement>\r\n                    {participant.nominations[nominationKey].photo.map((photo, index) => (\r\n                      <Card.Img\r\n                        variant=\"top\"\r\n                        src={photos[nominationKey] ? photos[nominationKey].link : ''}\r\n                        key={index}\r\n                      />\r\n                    ))}\r\n                    <Card.Body>\r\n                      <Card.Title>{participant.nominations[nominationKey].name}</Card.Title>\r\n                      {!withoutMarks && (\r\n                        <Card.Text>\r\n                          <span className=\"text-muted\">:</span>\r\n                          {renderTooltipedMarkLabel(marks[nominationKey][id])}\r\n                        </Card.Text>\r\n                      )}\r\n                      <Card.Link\r\n                        as={Link}\r\n                        to={`${isAdmin ? '/management' : ''}/nominations/${nominationKey}`}\r\n                      >\r\n                        \r\n                      </Card.Link>\r\n                      <br></br>\r\n                      {!withoutMarks && (\r\n                        <Card.Link as={Link} to={`/photos/${nominationKey}/${id}`}>\r\n                          \r\n                        </Card.Link>\r\n                      )}\r\n                    </Card.Body>\r\n                  </CardElement>\r\n                )}\r\n              </React.Fragment>\r\n            ))}\r\n          </PhotosWrapperElement>\r\n        </>\r\n      )}\r\n    </ParticipantWrapperElement>\r\n  );\r\n};\r\n\r\nParticipant.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  participant: PropTypes.object,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  marks: PropTypes.object.isRequired,\r\n  withoutMarks: PropTypes.bool.isRequired,\r\n  isAdmin: PropTypes.bool.isRequired,\r\n  allJudgeMarks: PropTypes.object.isRequired,\r\n  isAllJudgeMarksLoading: PropTypes.bool.isRequired,\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n  users: PropTypes.arrayOf(userPropType).isRequired,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useAuthState } from '../../contexts';\r\nimport { managementService } from '../../services/management';\r\nimport { nominationsService } from '../../services/nominations';\r\nimport { participantsService } from '../../services/participants';\r\nimport { Participant } from './Participant';\r\n\r\nexport const ParticipantContainer = () => {\r\n  const { user } = useAuthState();\r\n  const isAdmin = user.role === 'admin';\r\n  const { id } = useParams();\r\n  const [participant, setParticipant] = useState();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [allJudgesMarks, setAllJudgesMarks] = useState(null);\r\n  const [isMarksLoading, setIsMarksLoading] = useState(false);\r\n  const [nominations, setNominations] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchParticipant = async () => {\r\n      const participant = await participantsService.loadParticipant(id);\r\n      setParticipant(participant);\r\n      setIsLoading(false);\r\n    };\r\n    fetchParticipant();\r\n  }, [setIsLoading]);\r\n\r\n  useEffect(() => {\r\n    const loadMarks = async () => {\r\n      setIsMarksLoading(true);\r\n      const marks = await managementService.getMarksOfParticipant(id);\r\n      setAllJudgesMarks(marks);\r\n      setIsMarksLoading(false);\r\n    };\r\n    isAdmin && loadMarks();\r\n  }, [id, setIsMarksLoading, setAllJudgesMarks, isAdmin]);\r\n\r\n  // useEffect(() => {\r\n  //   const loadAllMarks = async () => {\r\n  //     const marks = await managementService.getBestMarks();\r\n  //     console.log(\" \", marks);\r\n  //   };\r\n  //   isAdmin && loadAllMarks();\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      const users = await managementService.getUsers();\r\n      setUsers(users);\r\n    };\r\n\r\n    isAdmin && fetchUsers();\r\n  }, [setUsers, isAdmin]);\r\n\r\n  useEffect(() => {\r\n    const loadNominations = async () => {\r\n      const nominations = await nominationsService.loadNominations();\r\n      setNominations(nominations);\r\n    };\r\n    loadNominations();\r\n  }, [setNominations]);\r\n\r\n  return (\r\n    (participant && (\r\n      <Participant\r\n        id={id}\r\n        participant={participant}\r\n        isLoading={isLoading}\r\n        marks={user.marks}\r\n        withoutMarks={user.role === 'admin'}\r\n        isAdmin={isAdmin}\r\n        isAllJudgeMarksLoading={isMarksLoading}\r\n        allJudgeMarks={allJudgesMarks}\r\n        nominations={nominations}\r\n        users={users}\r\n      />\r\n    )) ||\r\n    null\r\n  );\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\"\n});\n\nfunction SvgStar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-star\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStar);\nexport default __webpack_public_path__ + \"static/media/star.a5b18bc5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\"\n});\n\nfunction SvgStarFill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-star-fill\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStarFill);\nexport default __webpack_public_path__ + \"static/media/star-fill.72405014.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z\"\n});\n\nfunction SvgArrowLeftCircleFill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-arrow-left-circle-fill\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowLeftCircleFill);\nexport default __webpack_public_path__ + \"static/media/arrow-left-circle-fill.12ce3359.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\r\nimport { ReactComponent as StarIcon } from '../../shared/assets/icons/star.svg';\r\nimport { ReactComponent as StarFillIcon } from '../../shared/assets/icons/star-fill.svg';\r\nimport { ReactComponent as ArrowLeftIcon } from '../../shared/assets/icons/arrow-left-circle-fill.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport { APP_COLORS } from '../../shared';\r\n\r\nexport const ParticipantPhotoWrapperElement = styled.div`\r\n  display: flex;\r\n\r\n  .btn-dark {\r\n    width: 40%;\r\n    min-width: 12rem;\r\n    margin-top: 2rem;\r\n\r\n    &:last-child {\r\n      margin-top: 0.5rem;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const PhotoWrapperElement = styled.div`\r\n  width: 50%;\r\n  img {\r\n    max-width: 100%;\r\n  }\r\n`;\r\n\r\nexport const PhotoInfoBlockElement = styled.div`\r\n  width: 50%;\r\n  padding-left: 5%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const StarsWrapperElement = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: center;\r\n`;\r\n\r\nexport const StarIconElement = styled(StarIcon)`\r\n  cursor: pointer;\r\n  margin-right: 0.4rem;\r\n`;\r\n\r\nexport const StarFillIconElement = styled(StarFillIcon)`\r\n  cursor: pointer;\r\n  margin-right: 0.4rem;\r\n`;\r\n\r\nexport const MarkLabelElement = styled.span`\r\n  font-size: 1.5rem;\r\n  font-weight: 500;\r\n  margin-left: 0.5rem;\r\n`;\r\n\r\nexport const MarksWrapperElement = styled.div`\r\n  margin-top: 1rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const ArrowLeftIconElement = styled(ArrowLeftIcon)`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 1rem;\r\n  color: gray;\r\n`;\r\n\r\nexport const ArrowRightLinkElement = styled(Link)`\r\n  position: absolute;\r\n  top: 50%;\r\n  right: 1rem;\r\n  width: 6%;\r\n  height: 6%;\r\n  display: inline-block;\r\n\r\n  svg {\r\n    color: ${APP_COLORS.PRIMARY_BLACK};\r\n  }\r\n`;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z\"\n});\n\nfunction SvgArrowRightCircleFill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-arrow-right-circle-fill\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowRightCircleFill);\nexport default __webpack_public_path__ + \"static/media/arrow-right-circle-fill.d482b8af.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useMemo, useState, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  ParticipantPhotoWrapperElement,\r\n  PhotoWrapperElement,\r\n  PhotoInfoBlockElement,\r\n  StarsWrapperElement,\r\n  StarIconElement,\r\n  StarFillIconElement,\r\n  MarkLabelElement,\r\n  MarksWrapperElement,\r\n  ArrowLeftIconElement,\r\n  ArrowRightLinkElement,\r\n} from './elements';\r\nimport { photoPropType } from '../../shared/propTypes';\r\nimport { Link } from 'react-router-dom';\r\nimport { Loader } from '../../shared';\r\n\r\nimport { ReactComponent as ArrowRightIcon } from '../../shared/assets/icons/arrow-right-circle-fill.svg';\r\nimport { OverlayTrigger, Tooltip, Button } from 'react-bootstrap';\r\n\r\nimport { authService } from '../../services/auth';\r\n\r\nconst getMarkStar = (currentMark, setMark, section, clickCallback = () => {}) => {\r\n  const props = {\r\n    key: `${section}-${currentMark}`,\r\n    height: '1.3rem',\r\n    width: '1.3rem',\r\n    onClick: clickCallback,\r\n  };\r\n\r\n  return currentMark > setMark ? (\r\n    <StarIconElement {...props} />\r\n  ) : (\r\n    <StarFillIconElement {...props} />\r\n  );\r\n};\r\n\r\nconst getFullImage = (photoLink) => {\r\n  return (photoLink && photoLink.split('=s220')[0]) || '';\r\n};\r\n\r\nexport const ParticipantPhoto = ({\r\n  participantId,\r\n  nominationId,\r\n  nominationName,\r\n  photo,\r\n  mark,\r\n  isLoading,\r\n  onMarkChange,\r\n}) => {\r\n  const marks = useMemo(() => [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], []);\r\n  const [look, setLook] = useState((mark && mark.look) || 0);\r\n  const [idea, setIdea] = useState((mark && mark.idea) || 0);\r\n  const [isImageLoading, setIsImageLoading] = useState(true);\r\n  const [nextPhoto, setNextPhoto] = useState({});\r\n\r\n  const setMarks = (mark, type) => {\r\n    type == 'look' ? setLook(mark) : setIdea(mark);\r\n    onMarkChange({ mark, type });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLook((mark && mark.look) || 0);\r\n    setIdea((mark && mark.idea) || 0);\r\n    getNextNominationPhoto();\r\n  }, [mark, participantId, nominationId, setLook, setIdea]);\r\n\r\n  useEffect(() => {\r\n    setIsImageLoading(true);\r\n  }, [photo, setIsImageLoading]);\r\n\r\n  const getNextNominationPhoto = useCallback(async () => {\r\n    const mark = await authService.getNextNominationMark(nominationId);\r\n    setNextPhoto(mark);\r\n  }, [setNextPhoto]);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(231);\r\n  // }, [idea, look]);\r\n\r\n  const setImageLoaded = () => setIsImageLoading(false);\r\n  return !isLoading ? (\r\n    (photo && (\r\n      <ParticipantPhotoWrapperElement>\r\n        <PhotoWrapperElement>\r\n          {/* <ArrowLeftIconElement width=\"6%\" height=\"6%\" /> */}\r\n          {nextPhoto &&\r\n            nextPhoto.participantId !== participantId &&\r\n            nextPhoto.nominationId === nominationId && (\r\n              <ArrowRightLinkElement\r\n                to={`/photos/${nextPhoto.nominationId}/${nextPhoto.participantId}`}\r\n              >\r\n                <OverlayTrigger overlay={<Tooltip>   </Tooltip>}>\r\n                  <ArrowRightIcon width=\"100%\" height=\"100%\" />\r\n                </OverlayTrigger>\r\n              </ArrowRightLinkElement>\r\n            )}\r\n          <Link\r\n            to={`/photos/full-view/${nominationId}/${participantId}/${photo.link.replace(\r\n              'https://drive.google.com/uc?id=',\r\n              '',\r\n            )}`}\r\n          >\r\n            <img src={getFullImage(photo.link)} alt=\" \" onLoad={setImageLoaded}></img>\r\n          </Link>\r\n        </PhotoWrapperElement>\r\n        <PhotoInfoBlockElement>\r\n          <h3>{nominationName}</h3>\r\n          <p className=\"text-muted\"> {photo.name}</p>\r\n          <MarksWrapperElement>\r\n            <h4>:</h4>\r\n            <span>:</span>\r\n            <StarsWrapperElement>\r\n              {marks.map((mark) => getMarkStar(mark, idea, 'idea', () => setMarks(mark, 'idea')))}\r\n              <MarkLabelElement className=\"text-muted\">{idea}</MarkLabelElement>\r\n            </StarsWrapperElement>\r\n            <span>:</span>\r\n            <StarsWrapperElement>\r\n              {marks.map((mark) => getMarkStar(mark, look, 'look', () => setMarks(mark, 'look')))}\r\n              <MarkLabelElement className=\"text-muted\">{look}</MarkLabelElement>\r\n            </StarsWrapperElement>\r\n            <span className=\"text-muted\">C  - {(look + idea) / 2}</span>\r\n          </MarksWrapperElement>\r\n          <Button as={Link} variant=\"dark\" to={`/participants/${participantId}`}>\r\n             \r\n          </Button>\r\n          <Button as={Link} variant=\"dark\" to={`/nominations/${nominationId}`}>\r\n             \r\n          </Button>\r\n        </PhotoInfoBlockElement>\r\n      </ParticipantPhotoWrapperElement>\r\n    )) || <h3>  </h3>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\n\r\nParticipantPhoto.propTypes = {\r\n  participantId: PropTypes.string.isRequired,\r\n  nominationId: PropTypes.string.isRequired,\r\n  photo: photoPropType,\r\n  nominationName: PropTypes.string.isRequired,\r\n  isLoading: PropTypes.bool,\r\n  mark: PropTypes.shape({\r\n    idea: PropTypes.number,\r\n    look: PropTypes.number,\r\n  }),\r\n  onMarkChange: PropTypes.func.isRequired,\r\n};\r\n","import { BasicService } from './BasicService';\r\nimport { requestAPI, snackbarHandler } from './request';\r\nconst localStoragePhotoKey = 'LAST_MARKED_PHOTO';\r\n\r\nclass PhotoService extends BasicService {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  async loadPhoto({ participantId, nominationId }) {\r\n    const response = await requestAPI(\r\n      `/photos/custom-id?participantId=${participantId}&nominationId=${nominationId}`,\r\n    );\r\n\r\n    if (!response || !response.data) {\r\n      return null;\r\n    }\r\n\r\n    return response.data;\r\n  }\r\n\r\n  getLastMarkedPhoto() {\r\n    const photo = localStorage.getItem(localStoragePhotoKey);\r\n    return photo ? JSON.parse(photo) : null;\r\n  }\r\n\r\n  setLastMarkedPhoto(photo) {\r\n    localStorage.setItem(localStoragePhotoKey, JSON.stringify(photo));\r\n  }\r\n\r\n  clean() {}\r\n}\r\n\r\nexport const photoService = new PhotoService();\r\n","import styled from 'styled-components';\r\n\r\nexport const ParticipantsWrapperElement = styled.div``;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { nominationPropType } from '../../shared/propTypes/nominations';\r\nimport { participantPropType } from '../../shared/propTypes/participants';\r\nimport { Table } from 'react-bootstrap';\r\nimport { ParticipantsWrapperElement } from './elements';\r\nimport { ReactComponent as ArrowIcon } from '../../shared/assets/icons/arrow-down-right-circle.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport { generateParticipantTableTds } from '../../shared/helpers/mark';\r\nimport { Loader } from '../../shared';\r\n\r\nexport const Participants = ({ participants, nominations, isLoading, marks }) => {\r\n  return (\r\n    <ParticipantsWrapperElement>\r\n      <h3> </h3>\r\n      {(isLoading && <Loader />) || (\r\n        <Table hover bordered responsive striped size=\"sm\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              {nominations.map(({ name, id }) => (\r\n                <th key={id}>{name}</th>\r\n              ))}\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {generateParticipantTableTds(\r\n              nominations,\r\n              participants,\r\n              marks,\r\n              true,\r\n              ({ participant }) => (\r\n                <td>\r\n                  <Link to={`participants/${participant.id}`}>\r\n                    <ArrowIcon fill=\"black\" />\r\n                  </Link>\r\n                </td>\r\n              ),\r\n            )}\r\n          </tbody>\r\n        </Table>\r\n      )}\r\n    </ParticipantsWrapperElement>\r\n  );\r\n};\r\n\r\nParticipants.propTypes = {\r\n  participants: PropTypes.arrayOf(participantPropType).isRequired,\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  marks: PropTypes.object.isRequired,\r\n};\r\n","import { Card, Button } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\n\r\nexport const HomeWrapperElement = styled.div``;\r\n\r\nexport const CardsWrapperElement = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const CardLeftElement = styled(Card)`\r\n  max-height: 30rem;\r\n  overflow-y: auto;\r\n  margin-bottom: 1rem;\r\n  width: 70%;\r\n`;\r\n\r\nexport const CardRightElement = styled(Card)`\r\n  overflow-y: hidden;\r\n  margin-bottom: 1rem;\r\n  width: 20%;\r\n  margin-left: 2.5%;\r\n\r\n  img {\r\n    width: 90%;\r\n    margin-left: 5%;\r\n    margin-bottom: 5%;\r\n  }\r\n\r\n  & > span {\r\n    margin-left: 5%;\r\n    margin-top: 5%;\r\n  }\r\n`;\r\n\r\nexport const ButtonElement = styled(Button)`\r\n  margin-left: auto;\r\n`;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z\"\n});\n\nfunction SvgTrashFill(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-trash2-fill\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTrashFill);\nexport default __webpack_public_path__ + \"static/media/trash-fill.8e11048b.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\r\nimport { ReactComponent as TrashIcon } from '../../shared/assets/icons/trash-fill.svg';\r\nexport const ManagementWrapperElement = styled.div``;\r\n\r\nexport const ManagementHeaderElement = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const TrashElement = styled(TrashIcon)`\r\n  cursor: pointer;\r\n  &:hover {\r\n    fill: gray;\r\n  }\r\n`;\r\n","import React, { useCallback, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\n\r\nconst userInit = {\r\n  username: '',\r\n  name: '',\r\n};\r\n\r\nexport const CreateUserForm = ({ showModal, closeModal, onCreate, isCreatingUser }) => {\r\n  const [userForm, setUserForm] = useState(userInit);\r\n\r\n  const handleFormChange = useCallback(\r\n    (event) => {\r\n      setUserForm((user) => ({\r\n        ...user,\r\n        [event.target.name]: event.target.value,\r\n      }));\r\n    },\r\n    [setUserForm],\r\n  );\r\n\r\n  const handleCreate = useCallback(() => {\r\n    if (userForm.name && userForm.username && !isCreatingUser) {\r\n      onCreate(userForm);\r\n    }\r\n  }, [userForm, onCreate]);\r\n\r\n  return (\r\n    <Modal show={showModal} onHide={closeModal}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title> </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form>\r\n          <Form.Group controlId=\"formName\">\r\n            <Form.Label> *</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\" \"\r\n              onChange={handleFormChange}\r\n              name=\"name\"\r\n            />\r\n            <Form.Text className=\"text-muted\">  </Form.Text>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formUsername\">\r\n            <Form.Label> *</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\" \"\r\n              onChange={handleFormChange}\r\n              name=\"username\"\r\n            />\r\n\r\n            <Form.Text className=\"text-muted\">     </Form.Text>\r\n          </Form.Group>\r\n        </Form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={closeModal}>\r\n          \r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleCreate} disabled={isCreatingUser}>\r\n          {(isCreatingUser && '...') || ''}\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nCreateUserForm.propTypes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n  onCreate: PropTypes.func.isRequired,\r\n  showModal: PropTypes.bool.isRequired,\r\n  isCreatingUser: PropTypes.bool.isRequired,\r\n};\r\n","import React, { useCallback, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Table, Modal, Form } from 'react-bootstrap';\r\nimport { ManagementWrapperElement, ManagementHeaderElement, TrashElement } from './elements';\r\nimport { userPropType } from '../../shared/propTypes';\r\nimport { CreateUserForm } from './CreateUserForm';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const Management = ({ users, onCreate, onDelete, isCreatingUser, isRemovingUser }) => {\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const closeModal = useCallback(() => {\r\n    setShowModal(false);\r\n  }, [setShowModal]);\r\n\r\n  const openModal = useCallback(() => {\r\n    setShowModal(true);\r\n  }, [setShowModal]);\r\n\r\n  const handleCreate = useCallback(\r\n    (userData) => {\r\n      onCreate && onCreate(userData);\r\n    },\r\n    [onCreate],\r\n  );\r\n\r\n  const handleDelete = useCallback(\r\n    (id) => () => {\r\n      onDelete && onDelete(id);\r\n    },\r\n    [onDelete],\r\n  );\r\n  return (\r\n    <>\r\n      <ManagementWrapperElement>\r\n        <ManagementHeaderElement>\r\n          <h3></h3>\r\n          <Button variant=\"dark\" onClick={openModal}>\r\n             \r\n          </Button>\r\n        </ManagementHeaderElement>\r\n        <h4 className=\"text-muted\">: </h4>\r\n        {isRemovingUser ? (\r\n          ' ...'\r\n        ) : (\r\n          <Table hover bordered responsive striped size=\"sm\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th> </th>\r\n                <th></th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {(users || []).map(\r\n                (user) =>\r\n                  user.username && (\r\n                    <tr key={user.username}>\r\n                      <td>\r\n                        {user.role === 'judge' ? (\r\n                          <Link to={`management/${user._id}`}>{user.name}</Link>\r\n                        ) : (\r\n                          user.name\r\n                        )}\r\n                      </td>\r\n\r\n                      <td>{user.username}</td>\r\n                      <td>{user.role === 'judge' ? '' : ''}</td>\r\n                      <td>\r\n                        {user.role === 'judge' ? (\r\n                          <TrashElement onClick={handleDelete(user._id)} />\r\n                        ) : (\r\n                          ' '\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ),\r\n              ) || null}\r\n            </tbody>\r\n          </Table>\r\n        )}\r\n      </ManagementWrapperElement>\r\n      <CreateUserForm\r\n        showModal={showModal}\r\n        closeModal={closeModal}\r\n        onCreate={handleCreate}\r\n        isCreatingUser={isCreatingUser}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nManagement.propTypes = {\r\n  users: PropTypes.arrayOf(userPropType),\r\n  onCreate: PropTypes.func.isRequired,\r\n  onDelete: PropTypes.func.isRequired,\r\n  isCreatingUser: PropTypes.bool.isRequired,\r\n  isRemovingUser: PropTypes.bool.isRequired,\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.5 6.5a.5.5 0 0 0-1 0v3.793L6.354 9.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0-.708-.708L8.5 10.293V6.5z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\"\n});\n\nfunction SvgFileEarmarkArrowDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-file-earmark-arrow-down\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFileEarmarkArrowDown);\nexport default __webpack_public_path__ + \"static/media/file-earmark-arrow-down.d9e61c59.svg\";\nexport { ForwardRef as ReactComponent };","import { Button } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\nimport { ReactComponent as DownloadIcon } from '../../shared/assets/icons/file-earmark-arrow-down.svg';\r\nexport const JudgeProfileWrapperElement = styled.div``;\r\n\r\nexport const DownloadIconElement = styled(DownloadIcon)`\r\n  cursor: pointer;\r\n  margin-right: 5px;\r\n`;\r\n\r\nexport const DownloadButtonElement = styled(Button)`\r\n  display: flex;\r\n  margin-left: auto;\r\n`;\r\n","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DownloadButtonElement, DownloadIconElement, JudgeProfileWrapperElement } from './elements';\r\nimport { Button, Table } from 'react-bootstrap';\r\nimport { nominationPropType, participantPropType } from '../../shared/propTypes';\r\nimport { generateParticipantTableTds } from '../../shared/helpers/mark';\r\nimport { Loader } from '../../shared';\r\n\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\n\r\nconst handleFormatedMark = (formatedMarks, cb) => {\r\n  if (!formatedMarks.length) {\r\n    return [];\r\n  }\r\n\r\n  const keysToHandle = Object.keys(formatedMarks[0]).filter((field) => field !== ID_FIELD);\r\n  return formatedMarks.map((mark) => {\r\n    const handledMarks = keysToHandle.reduce(\r\n      (res, field) => ({\r\n        ...res,\r\n        [field]: mark[field] ? cb(mark[field]) : ' ',\r\n      }),\r\n      {},\r\n    );\r\n    return {\r\n      ...mark,\r\n      ...handledMarks,\r\n    };\r\n  });\r\n};\r\nconst ID_FIELD = 'Id ';\r\n\r\nexport const JudgeProfile = ({ name, username, marks, isLoading, nominations, participants }) => {\r\n  const formatMarks = useCallback(() => {\r\n    const formatedMarks = participants.map((participant) => {\r\n      const participantMarks = nominations.reduce((res, nomination) => {\r\n        const currentMark =\r\n          (marks && marks[nomination.id] && marks[nomination.id][participant.id]) || null;\r\n        return {\r\n          ...res,\r\n          [nomination.name]: currentMark,\r\n        };\r\n      }, {});\r\n\r\n      return {\r\n        [ID_FIELD]: participant.id,\r\n        ...participantMarks,\r\n      };\r\n    });\r\n\r\n    return formatedMarks;\r\n  }, [participants, nominations, marks]);\r\n\r\n  const exportToCSV = useCallback(() => {\r\n    const formatedMarks = formatMarks();\r\n    const fileType =\r\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\n    const fileExtension = '.xlsx';\r\n\r\n    const avgMarks = handleFormatedMark(formatedMarks, (mark) => (mark.look + mark.idea) / 2);\r\n    const ideaMarks = handleFormatedMark(formatedMarks, (mark) => mark.look);\r\n    const lookMarks = handleFormatedMark(formatedMarks, (mark) => mark.idea);\r\n\r\n    const avgWs = XLSX.utils.json_to_sheet(avgMarks);\r\n    const ideaWs = XLSX.utils.json_to_sheet(ideaMarks);\r\n    const lookWs = XLSX.utils.json_to_sheet(lookMarks);\r\n\r\n    const wb = XLSX.utils.book_new();\r\n\r\n    XLSX.utils.book_append_sheet(wb, avgWs, '');\r\n    XLSX.utils.book_append_sheet(wb, ideaWs, '');\r\n    XLSX.utils.book_append_sheet(wb, lookWs, '');\r\n\r\n    const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n    const data = new Blob([excelBuffer], { type: fileType });\r\n    FileSaver.saveAs(data, ` ${name}${fileExtension}`);\r\n  }, [formatMarks]);\r\n\r\n  return !isLoading ? (\r\n    <JudgeProfileWrapperElement>\r\n      <header>\r\n        <h3></h3>\r\n        <h3>{name}</h3>\r\n        <h4>: {username}</h4>\r\n        <DownloadButtonElement variant=\"dark\" onClick={exportToCSV}>\r\n          <DownloadIconElement width=\"1.2rem\" height=\"1.2rem\" />\r\n           \r\n        </DownloadButtonElement>\r\n      </header>\r\n      <h4 className=\"text-muted\">: </h4>\r\n      {marks && (\r\n        <Table id=\"judge-table\" hover bordered responsive striped size=\"sm\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              {nominations.map((nomination) => (\r\n                <th key={nomination.id}>{nomination.name}</th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>{generateParticipantTableTds(nominations, participants, marks)}</tbody>\r\n        </Table>\r\n      )}\r\n    </JudgeProfileWrapperElement>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\n\r\nJudgeProfile.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  marks: PropTypes.object.isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n  participants: PropTypes.arrayOf(participantPropType).isRequired,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const ManagementPraticipantsWrapperElement = styled.div``;\r\n\r\nexport const RegionTDElement = styled.td`\r\n  color: ${(props) => (props.town ? '#5ab5a9' : 'black')};\r\n`;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\"\n});\n\nfunction SvgCheckCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-check-circle\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckCircle);\nexport default __webpack_public_path__ + \"static/media/check-circle.f93cc3a8.svg\";\nexport { ForwardRef as ReactComponent };","const regionUsers = [\r\n  { name: ' ', town: ' -, . .' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '  ' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '!' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: ' , ' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: ' ,  ' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: 'Katya Wesna', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: ' ' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n  { name: ' ', town: '' },\r\n];\r\n\r\nexport const regionUsersMap = regionUsers.reduce(\r\n  (res, { name: humanName, town }) => ({\r\n    ...res,\r\n    [humanName]: town,\r\n  }),\r\n  {},\r\n);\r\n","import styled from 'styled-components';\r\n\r\nexport const ParticipantPlacesWrapperElement = styled.div``;\r\n","import React, { useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Table } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { nominationPropType, participantPropType } from '../../../shared/propTypes';\r\nimport { RegionTDElement } from '../elements';\r\nimport { ParticipantPlacesWrapperElement } from './elements';\r\nimport { regionUsersMap } from '../../../mock/regions';\r\n\r\nexport const ParticipantPlaces = ({ marks, nominations, participants }) => {\r\n  const [regionsMax, minskMax] = useMemo(() => {\r\n    let maxRegionSum = Number.MIN_VALUE;\r\n    let regionParticipants = [];\r\n    let maxMinskSum = Number.MIN_VALUE;\r\n    let minskParticipants = [];\r\n\r\n    for (let i = 0; i < participants.length; i++) {\r\n      let isMinsk = !regionUsersMap[participants[i].name];\r\n      let canUserBeWinner = true;\r\n      let userSum = 0;\r\n\r\n      for (let j = 0; j < nominations.length && canUserBeWinner; j++) {\r\n        if (nominations[j]?.name !== '') {\r\n          let currentMark =\r\n            marks && marks[participants[i].id] && marks[participants[i].id][nominations[j].id];\r\n\r\n          if (!currentMark || !currentMark.idea || !currentMark.look) {\r\n            canUserBeWinner = false;\r\n            break;\r\n          }\r\n\r\n          const avg = (currentMark.idea + currentMark.look) / 2;\r\n          userSum += avg;\r\n        }\r\n\r\n        if (!isMinsk) {\r\n          if (maxRegionSum < userSum) {\r\n            maxRegionSum = userSum;\r\n          }\r\n        } else {\r\n          if (maxMinskSum < userSum) {\r\n            maxMinskSum = userSum;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < participants.length; i++) {\r\n      let isMinsk = !regionUsersMap[participants[i].name];\r\n      let canUserBeWinner = true;\r\n      let userSum = 0;\r\n\r\n      for (let j = 0; j < nominations.length && canUserBeWinner; j++) {\r\n        if (nominations[j]?.name !== '') {\r\n          let currentMark =\r\n            marks && marks[participants[i].id] && marks[participants[i].id][nominations[j].id];\r\n\r\n          if (!currentMark || !currentMark.idea || !currentMark.look) {\r\n            canUserBeWinner = false;\r\n            break;\r\n          }\r\n\r\n          const avg = (currentMark.idea + currentMark.look) / 2;\r\n          userSum += avg;\r\n        }\r\n      }\r\n\r\n      if (!isMinsk) {\r\n        if (userSum === maxRegionSum) {\r\n          regionParticipants.push(participants[i]);\r\n        }\r\n      } else {\r\n        if (userSum === maxMinskSum) {\r\n          minskParticipants.push(participants[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    return [\r\n      {\r\n        participants: regionParticipants,\r\n        points: maxRegionSum,\r\n      },\r\n      {\r\n        participants: minskParticipants,\r\n        points: maxMinskSum,\r\n      },\r\n      ,\r\n    ];\r\n  }, [marks, nominations, participants]);\r\n\r\n  return (\r\n    <ParticipantPlacesWrapperElement>\r\n      <Table hover bordered responsive striped size=\"sm\">\r\n        <thead>\r\n          <tr>\r\n            {nominations.map((nomination) => (\r\n              <th key={nomination.id}>{nomination.name}</th>\r\n            ))}\r\n            <th> </th>\r\n            <th>1 </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            {nominations.map((nomination) => {\r\n              let maxVal = Number.MIN_VALUE;\r\n              const maxParticipants = [];\r\n              participants.forEach((participant) => {\r\n                if (!regionUsersMap[participant.name]) {\r\n                  const value =\r\n                    marks && marks[participant.id] && marks[participant.id][nomination.id];\r\n                  if (value) {\r\n                    const avg = (value.idea + value.look) / 2;\r\n                    if (avg > maxVal) {\r\n                      maxVal = avg;\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n\r\n              participants.forEach((participant) => {\r\n                if (!regionUsersMap[participant.name]) {\r\n                  const value =\r\n                    marks && marks[participant.id] && marks[participant.id][nomination.id];\r\n                  if (value) {\r\n                    const avg = (value.idea + value.look) / 2;\r\n\r\n                    if (avg == maxVal) {\r\n                      maxParticipants.push(participant);\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n\r\n              return (\r\n                <td key={`${nomination.id}`}>\r\n                  <b></b>: {maxVal}\r\n                  <br></br>\r\n                  <b></b>:<br></br>\r\n                  {maxParticipants.map((participant) => (\r\n                    <>\r\n                      <span key={participant.id}>\r\n                        {participant?.name} ({participant?.id})\r\n                      </span>\r\n                      <br></br>\r\n                    </>\r\n                  ))}\r\n                </td>\r\n              );\r\n            })}\r\n            <td>\r\n              <b></b>: {regionsMax?.points}\r\n              <br></br>\r\n              <b></b>:<br></br>\r\n              {regionsMax?.participants?.map((participant) => (\r\n                <>\r\n                  <span key={participant?.id}>\r\n                    {participant?.name} ({participant?.id})\r\n                  </span>\r\n                  <br></br>\r\n                </>\r\n              ))}\r\n            </td>\r\n            <td>\r\n              <b></b>: {minskMax?.points}\r\n              <br></br>\r\n              <b></b>:<br></br>\r\n              {minskMax?.participants?.map((participant) => (\r\n                <>\r\n                  <span key={participant?.id}>\r\n                    {participant?.name} ({participant?.id})\r\n                  </span>\r\n                  <br></br>\r\n                </>\r\n              ))}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </Table>\r\n    </ParticipantPlacesWrapperElement>\r\n  );\r\n};\r\n\r\nParticipantPlaces.propTypes = {\r\n  marks: PropTypes.object.isRequired,\r\n  participants: PropTypes.arrayOf(participantPropType).isRequired,\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Loader } from '../../shared';\r\nimport { ManagementPraticipantsWrapperElement, RegionTDElement } from './elements';\r\nimport { ReactComponent as DashIcon } from '../../shared/assets/icons/dash-circle.svg';\r\nimport { ReactComponent as CheckedIcon } from '../../shared/assets/icons/check-circle.svg';\r\n\r\nimport { OverlayTrigger, Table, Tooltip } from 'react-bootstrap';\r\nimport { nominationPropType, participantPropType } from '../../shared/propTypes';\r\nimport { Link } from 'react-router-dom';\r\nimport { regionUsersMap } from '../../mock/regions';\r\nimport { ParticipantPlaces } from './ParticipantPlaces/ParticipantPlaces';\r\n\r\nexport const ManagementParticipants = ({ isLoading, marks, nominations, participants }) => {\r\n  return (\r\n    <ManagementPraticipantsWrapperElement>\r\n      <h3></h3>\r\n      {isLoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          <h4></h4>\r\n          <ParticipantPlaces marks={marks} nominations={nominations} participants={participants} />\r\n          <h4></h4>\r\n          <Table hover bordered responsive striped size=\"sm\">\r\n            <thead>\r\n              <tr>\r\n                <th> </th>\r\n                <th></th>\r\n                {nominations.map((nomination) => (\r\n                  <th key={nomination.id}>{nomination.name}</th>\r\n                ))}\r\n                <th>\r\n                  <OverlayTrigger\r\n                    overlay={\r\n                      <Tooltip>\r\n                        <span>     </span>\r\n                      </Tooltip>\r\n                    }\r\n                  >\r\n                    <span></span>\r\n                  </OverlayTrigger>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {participants.map((participant) => (\r\n                <tr key={participant.id}>\r\n                  <td>\r\n                    <Link to={`/management/participants/${participant.id}`}>{participant.id}</Link>\r\n                  </td>\r\n                  <RegionTDElement town={!!regionUsersMap[participant.name]}>\r\n                    {regionUsersMap[participant.name] || ''}\r\n                  </RegionTDElement>\r\n                  {nominations.map((nomination) => {\r\n                    const value =\r\n                      marks && marks[participant.id] && marks[participant.id][nomination.id];\r\n                    return (\r\n                      <td key={`${participant.id}-${nomination.id}`}>\r\n                        {value ? (\r\n                          <OverlayTrigger\r\n                            overlay={\r\n                              <Tooltip>\r\n                                <div className=\"flex-center-column\">\r\n                                  <span>: {value.idea}</span>\r\n                                  <span>: {value.look}</span>\r\n                                  <span>: {(value.idea + value.look) / 2}</span>\r\n                                </div>\r\n                              </Tooltip>\r\n                            }\r\n                          >\r\n                            <span>{(value.idea + value.look) / 2}</span>\r\n                          </OverlayTrigger>\r\n                        ) : (\r\n                          <OverlayTrigger\r\n                            overlay={\r\n                              <Tooltip>\r\n                                <span> </span>\r\n                              </Tooltip>\r\n                            }\r\n                          >\r\n                            <span>-</span>\r\n                          </OverlayTrigger>\r\n                        )}\r\n                      </td>\r\n                    );\r\n                  })}\r\n                  <td>\r\n                    {!marks[participant.id].isFinished % 2 ? (\r\n                      <DashIcon fill=\"red\" />\r\n                    ) : (\r\n                      <CheckedIcon fill=\"green\" />\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </>\r\n      )}\r\n    </ManagementPraticipantsWrapperElement>\r\n  );\r\n};\r\n\r\nManagementParticipants.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n  marks: PropTypes.object.isRequired,\r\n  participants: PropTypes.arrayOf(participantPropType).isRequired,\r\n  nominations: PropTypes.arrayOf(nominationPropType).isRequired,\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const FullViewPhotoWrapperElement = styled.div``;\r\n\r\nexport const OverlayElement = styled.div`\r\n  position: fixed;\r\n  overflow: auto;\r\n\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #1f1f1f;\r\n  opacity: 1;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  z-index: 100;\r\n\r\n  & > img {\r\n    height: 90%;\r\n  }\r\n\r\n  & span {\r\n    position: absolute;\r\n    bottom: 1%;\r\n    right: 50%;\r\n    transform: translateX(50%);\r\n    color: white;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { LoginContainer } from '../Login';\r\nimport { NominationsContainer } from '../Nominations';\r\nimport { NominationContainer } from '../Nomination';\r\nimport { ParticipantContainer } from '../Participant';\r\nimport { ParticipantPhotoContainer } from '../ParticipantPhoto';\r\nimport { ParticipantsContainer } from '../Participants';\r\nimport { Home } from '../Home';\r\nimport { ManagementContainer } from '../Management/ManagementContainer';\r\nimport { JudgeProfileContainer } from '../JudgeProfile/JudgeProfileContainer';\r\nimport { NextPhoto } from '../NextPhoto/NextPhoto';\r\nimport { ManagementParticipantsContainer } from '../ManagementParticipants/ManagementParticipantsContainer';\r\nimport { FullViewPhoto } from '../FullViewPhoto/FullViewPhoto';\r\n\r\nexport const judgeRoutes = [\r\n  { path: '/home', component: Home },\r\n  { path: '/participants', component: ParticipantsContainer },\r\n  { path: '/participants/:id', component: ParticipantContainer },\r\n  { path: '/nominations', component: NominationsContainer },\r\n  { path: '/nominations/:id', component: NominationContainer },\r\n  { path: '/photos/full-view/:nominationId/:participantId/:imgUrl', component: FullViewPhoto },\r\n  { path: '/photos/:nominationId/:participantId', component: ParticipantPhotoContainer },\r\n  { path: '/nextPhoto', component: NextPhoto },\r\n  { path: '/home', isRedirect: true },\r\n];\r\n\r\nexport const adminRoutes = [\r\n  { path: '/management/participants', component: ManagementParticipantsContainer },\r\n  { path: '/management/participants/:id', component: ParticipantContainer },\r\n  { path: '/management/nominations', component: NominationsContainer },\r\n  { path: '/management/nominations/:id', component: NominationContainer },\r\n  { path: '/management/:id', component: JudgeProfileContainer },\r\n  { path: '/management', component: ManagementContainer },\r\n  { path: '/management', isRedirect: true },\r\n];\r\n\r\nexport const notAuthRoutes = [\r\n  { path: '/login', component: LoginContainer },\r\n  { path: '/login', isRedirect: true },\r\n];\r\nconst generateRoute = ({ path, component, isRedirect = false }) =>\r\n  isRedirect ? (\r\n    <Redirect from=\"*\" key={`redirect-${path}`} to={path} />\r\n  ) : (\r\n    <Route path={path} key={path} exact component={component} />\r\n  );\r\n\r\nexport const generateRoutes = (isAuth, role) => {\r\n  if (isAuth === null) {\r\n    return null;\r\n  }\r\n\r\n  if (!isAuth) {\r\n    return notAuthRoutes.map((route) => generateRoute(route));\r\n  }\r\n\r\n  if (role === 'admin') {\r\n    return adminRoutes.map((route) => generateRoute(route));\r\n  }\r\n\r\n  return judgeRoutes.map((route) => generateRoute(route));\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button, Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { photoService } from '../../services/photo';\r\nimport {\r\n  HomeWrapperElement,\r\n  CardLeftElement,\r\n  CardRightElement,\r\n  CardsWrapperElement,\r\n} from './elements';\r\n\r\nexport const Home = () => {\r\n  const [lastMarkedPhoto, setLastMarkedPhoto] = useState(null);\r\n  useEffect(() => {\r\n    setLastMarkedPhoto(photoService.getLastMarkedPhoto());\r\n  }, [setLastMarkedPhoto]);\r\n  return (\r\n    <HomeWrapperElement>\r\n      <h4> :</h4>\r\n      <CardsWrapperElement>\r\n        <CardLeftElement body>\r\n          <p>\r\n            ,   ,          \r\n            !      <b>15.00  (30.06)</b> (     \r\n              )\r\n          </p>\r\n          <p>\r\n                ,   <b>  2021.</b>\r\n          </p>\r\n          <p>\r\n                   ,  ,  \r\n              ,       ,   :)\r\n          </p>\r\n          <p>\r\n            <b>   :</b>  ,    ( \r\n            )      .       1  6\r\n            .  ,   8 ,    24 .  \r\n            -    {` `}\r\n            <a href=\"https://www.google.com/maps/d/edit?mid=1_VBoT7JUU0ZAL5omIAf6q884ipHk92Sh&ll=53.8803080599522%2C27.56817453955903&z=14\">\r\n              \r\n            </a>\r\n            :)\r\n          </p>\r\n          <p>\r\n                ,        \r\n            .\r\n          </p>\r\n          <p>\r\n                ,     10-  (\r\n             )     :\r\n          </p>\r\n          <ul>\r\n            <li>\r\n              <b></b> - ,        .  \r\n                  . ,   ,   , \r\n                 ,   ,      \r\n            </li>\r\n            <li>\r\n              <b> </b> -  ,       ,\r\n                ,      .\r\n            </li>\r\n          </ul>\r\n          <p>\r\n              -  .       2-4\r\n                .\r\n          </p>\r\n          <p>    .</p>\r\n          <p>\r\n             ,       ,      \r\n             15.00 .\r\n            <br></br>\r\n            <br></br>\r\n            <b>       :)</b>\r\n          </p>\r\n          <p>\r\n                      {` `}\r\n            <a href=\"https://t.me/fotovelomarafon\"></a>\r\n          </p>\r\n        </CardLeftElement>\r\n        <CardRightElement>\r\n          <Card.Header> </Card.Header>\r\n          {(lastMarkedPhoto &&\r\n            lastMarkedPhoto.look &&\r\n            lastMarkedPhoto.idea &&\r\n            lastMarkedPhoto.participantId &&\r\n            lastMarkedPhoto.nominationId &&\r\n            lastMarkedPhoto.link && (\r\n              <Card.Body>\r\n                <img src={lastMarkedPhoto.link}></img>\r\n                <Card.Text>\r\n                  <div>\r\n                    <b>:</b>\r\n                    {' ' + lastMarkedPhoto.idea}\r\n                  </div>\r\n                  <div>\r\n                    <b>: </b>\r\n                    {' ' + lastMarkedPhoto.look}\r\n                  </div>\r\n                  <div>\r\n                    <Link\r\n                      to={`/photos/${lastMarkedPhoto.nominationId}/${lastMarkedPhoto.participantId}`}\r\n                    >\r\n                      \r\n                    </Link>\r\n                  </div>\r\n                </Card.Text>\r\n              </Card.Body>\r\n            )) || <span className=\"text-muted\"> </span>}\r\n        </CardRightElement>\r\n      </CardsWrapperElement>\r\n      <Button as={Link} to=\"/nextPhoto\" variant=\"dark\">\r\n         \r\n      </Button>\r\n    </HomeWrapperElement>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useAuthState } from '../../contexts';\r\nimport { nominationsService } from '../../services/nominations';\r\nimport { participantsService } from '../../services/participants';\r\nimport { Participants } from './Participants';\r\n\r\nexport const ParticipantsContainer = () => {\r\n  const [participants, setParticipants] = useState([]);\r\n  const [nominations, setNominations] = useState([]);\r\n  const [isLoadedNominations, setIsLoadedNominations] = useState(true);\r\n  const [isLoadedParticipants, setIsLoadedParticipants] = useState(true);\r\n  const { user } = useAuthState();\r\n\r\n  useEffect(() => {\r\n    const loadNominations = async () => {\r\n      const nominations = await nominationsService.loadNominations();\r\n      setNominations(nominations);\r\n      setIsLoadedNominations(false);\r\n    };\r\n    loadNominations();\r\n  }, [setIsLoadedNominations, setIsLoadedNominations]);\r\n\r\n  useEffect(() => {\r\n    const loadParticipants = async () => {\r\n      const participants = await participantsService.loadParticipants();\r\n      setParticipants(participants);\r\n      setIsLoadedParticipants(false);\r\n    };\r\n    loadParticipants();\r\n  }, [setParticipants, setIsLoadedParticipants]);\r\n\r\n  return (\r\n    <>\r\n      <Participants\r\n        participants={participants}\r\n        nominations={nominations}\r\n        isLoading={isLoadedNominations || isLoadedParticipants}\r\n        marks={user.marks || {}}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport { FullViewPhotoWrapperElement, OverlayElement } from './elements';\r\n\r\nexport const FullViewPhoto = () => {\r\n  const { participantId, nominationId, imgUrl } = useParams({});\r\n\r\n  return (\r\n    <FullViewPhotoWrapperElement>\r\n      <OverlayElement>\r\n        <img src={`https://drive.google.com/uc?id=${imgUrl}`} />\r\n\r\n        <Link to={`/photos/${nominationId}/${participantId}`}>\r\n          <span>  </span>\r\n        </Link>\r\n      </OverlayElement>\r\n\r\n      {participantId + nominationId}\r\n    </FullViewPhotoWrapperElement>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { ParticipantPhoto } from './ParticipantPhoto';\r\nimport { useAuthState } from '../../contexts/AuthContext';\r\nimport { authService } from '../../services/auth';\r\nimport { photoService } from '../../services/photo';\r\n\r\nexport const ParticipantPhotoContainer = () => {\r\n  const { participantId, nominationId } = useParams({});\r\n  const [nominationName, setNominationName] = useState('');\r\n  const [photo, setPhoto] = useState();\r\n  // const [mark, setMark] = useState({});\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const { user, actions } = useAuthState();\r\n\r\n  const handleMarkChange = async ({ type, mark }) => {\r\n    const response = await authService.putMark({\r\n      type,\r\n      mark,\r\n      participantId,\r\n      nominationId,\r\n    });\r\n    const marks = response || { idea: 0, look: 0 };\r\n    user.marks[nominationId][participantId] = marks;\r\n\r\n    if (marks.look && marks.idea) {\r\n      actions.getNextMark();\r\n      photoService.setLastMarkedPhoto({\r\n        link: photo.link,\r\n        idea: marks.idea,\r\n        look: marks.look,\r\n        participantId,\r\n        nominationId,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadPhoto = async () => {\r\n      const loadedPhoto = await photoService.loadPhoto({\r\n        nominationId,\r\n        participantId,\r\n      });\r\n      if (loadedPhoto) {\r\n        setPhoto(loadedPhoto.photo);\r\n        setNominationName(loadedPhoto.nomination.name);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    loadPhoto();\r\n  }, [participantId, nominationId, setIsLoading, setNominationName, setPhoto]);\r\n\r\n  return (\r\n    <ParticipantPhoto\r\n      participantId={participantId}\r\n      nominationId={nominationId}\r\n      photo={photo}\r\n      mark={user.marks[nominationId][participantId]}\r\n      nominationName={nominationName}\r\n      isLoading={isLoading}\r\n      onMarkChange={handleMarkChange}\r\n    />\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { useAuthState } from '../../contexts';\r\n\r\nexport const NextPhoto = () => {\r\n  const { nextMark } = useAuthState();\r\n  return (\r\n    <Redirect\r\n      to={\r\n        nextMark && nextMark.nominationId && nextMark.participantId\r\n          ? `/photos/${nextMark.nominationId}/${nextMark.participantId}`\r\n          : ''\r\n      }\r\n    />\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { authService } from '../../services/auth';\r\nimport { nominationsService } from '../../services/nominations';\r\nimport { participantsService } from '../../services/participants';\r\nimport { ManagementParticipants } from './ManagementParticipants';\r\n\r\nexport const ManagementParticipantsContainer = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [marks, setMarks] = useState(null);\r\n  const [nominations, setNominations] = useState([]);\r\n  const [participants, setParticipants] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadMarks = async () => {\r\n      setIsLoading(true);\r\n      const loadedMarks = await authService.getMarkSums();\r\n      setMarks(loadedMarks);\r\n      setIsLoading(false);\r\n    };\r\n\r\n    loadMarks();\r\n  }, [setMarks, setIsLoading]);\r\n\r\n  useEffect(() => {\r\n    const loadNominations = async () => {\r\n      const nominations = await nominationsService.loadNominations();\r\n      setNominations(nominations);\r\n    };\r\n    loadNominations();\r\n  }, [setNominations]);\r\n\r\n  useEffect(() => {\r\n    const loadParticipants = async () => {\r\n      const participants = await participantsService.loadParticipants();\r\n      setParticipants(participants);\r\n    };\r\n    loadParticipants();\r\n  }, [setParticipants]);\r\n\r\n  return (\r\n    <ManagementParticipants\r\n      marks={marks}\r\n      isLoading={isLoading}\r\n      nominations={nominations}\r\n      participants={participants}\r\n    />\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { managementService } from '../../services/management';\r\nimport { nominationsService } from '../../services/nominations';\r\nimport { participantsService } from '../../services/participants';\r\nimport { JudgeProfile } from './JudgeProfile';\r\n\r\nexport const JudgeProfileContainer = () => {\r\n  const { id } = useParams();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [user, setUser] = useState({});\r\n  const [nominations, setNominations] = useState([]);\r\n  const [participants, setParticipants] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadUser = async () => {\r\n      setIsLoading(true);\r\n      const user = await managementService.loadUser(id);\r\n      setUser(user);\r\n      setIsLoading(false);\r\n    };\r\n    loadUser();\r\n  }, [setIsLoading, setUser]);\r\n\r\n  useEffect(() => {\r\n    const loadNominations = async () => {\r\n      const nominations = await nominationsService.loadNominations();\r\n      setNominations(nominations);\r\n    };\r\n    loadNominations();\r\n  }, [setNominations]);\r\n\r\n  useEffect(() => {\r\n    const loadParticipants = async () => {\r\n      const participants = await participantsService.loadParticipants();\r\n      setParticipants(participants);\r\n    };\r\n    loadParticipants();\r\n  }, [setParticipants]);\r\n\r\n  return (\r\n    user && (\r\n      <JudgeProfile\r\n        isLoading={isLoading}\r\n        name={user.name || ''}\r\n        username={user.username || ''}\r\n        marks={user.marks || {}}\r\n        nominations={nominations}\r\n        participants={participants}\r\n      />\r\n    )\r\n  );\r\n};\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { Management } from './Management';\r\n\r\nimport { managementService } from '../../services/management';\r\n\r\nexport const ManagementContainer = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [isCreatingUser, setIsCreatingUser] = useState(false);\r\n  const [isRemovingUser, setIsRemovingUser] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const users = await managementService.getUsers();\r\n      setUsers(users);\r\n    };\r\n\r\n    fetchData();\r\n  }, [setUsers]);\r\n\r\n  const handleCreate = useCallback(\r\n    (userData) => {\r\n      const createUser = async () => {\r\n        setIsCreatingUser(true);\r\n        await managementService.createJudge(userData);\r\n        setIsCreatingUser(false);\r\n      };\r\n\r\n      createUser();\r\n    },\r\n    [setIsCreatingUser],\r\n  );\r\n\r\n  const handleDelete = useCallback(\r\n    (id) => {\r\n      const deleteUser = async () => {\r\n        setIsRemovingUser(true);\r\n        await managementService.removeJudge(id);\r\n        setUsers(await managementService.getUsers());\r\n        setIsRemovingUser(false);\r\n      };\r\n\r\n      deleteUser();\r\n    },\r\n    [setIsRemovingUser, setUsers],\r\n  );\r\n\r\n  return (\r\n    <Management\r\n      users={users}\r\n      onCreate={handleCreate}\r\n      isCreatingUser={isCreatingUser}\r\n      isRemovingUser={isRemovingUser}\r\n      onDelete={handleDelete}\r\n    />\r\n  );\r\n};\r\n","import React, { useCallback } from 'react';\r\nimport { useAuthState } from '../../contexts';\r\nimport { Login } from './Login';\r\n\r\nexport const LoginContainer = () => {\r\n  const { actions } = useAuthState();\r\n\r\n  const handleClick = useCallback(\r\n    ({ username }) => {\r\n      actions.login(username);\r\n    },\r\n    [actions],\r\n  );\r\n  return <Login onClick={handleClick} />;\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.287 5.906c-.778.324-2.334.994-4.666 2.01-.378.15-.577.298-.595.442-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294.26.006.549-.1.868-.32 2.179-1.471 3.304-2.214 3.374-2.23.05-.012.12-.026.166.016.047.041.042.12.037.141-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8.154 8.154 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629.093.06.183.125.27.187.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.426 1.426 0 0 0-.013-.315.337.337 0 0 0-.114-.217.526.526 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09z\"\n});\n\nfunction SvgTelegram(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-telegram\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTelegram);\nexport default __webpack_public_path__ + \"static/media/telegram.f274afe0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z\"\n});\n\nfunction SvgInstagram(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"currentColor\",\n    className: \"bi bi-instagram\",\n    viewBox: \"0 0 16 16\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgInstagram);\nexport default __webpack_public_path__ + \"static/media/instagram.7a3b5420.svg\";\nexport { ForwardRef as ReactComponent };","import { Navbar } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\nimport { APP_COLORS } from '../../../shared';\r\nimport { ReactComponent as TelegramIcon } from '../../../shared/assets/icons/telegram.svg';\r\nimport { ReactComponent as InstagramIcon } from '../../../shared/assets/icons/instagram.svg';\r\n\r\nexport const NavbarElement = styled(Navbar)`\r\n  border-top: 1px solid ${APP_COLORS.LIGHT_BLUE_BORDER};\r\n\r\n  .navbar-nav > a.nav-link {\r\n    color: black;\r\n  }\r\n`;\r\n\r\nexport const TelegramIconElement = styled(TelegramIcon)`\r\n  margin-right: 0.4rem;\r\n`;\r\n\r\nexport const InstagramIconElement = styled(InstagramIcon)`\r\n  margin-right: 0.4rem;\r\n`;\r\n","import React from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { InstagramIconElement, NavbarElement, TelegramIconElement } from './elements';\r\n\r\nexport const Footer = () => {\r\n  return (\r\n    <footer>\r\n      <NavbarElement className=\"justify-content-center\" bg=\"gray\">\r\n        <Nav>\r\n          <Nav.Link\r\n            href=\"https://www.instagram.com/fotovelomarafon/\"\r\n            color=\"black\"\r\n            target=\"_blanked\"\r\n          >\r\n            <InstagramIconElement />\r\n            Instagram\r\n          </Nav.Link>\r\n          {/* <Nav.Link href=\"https://vk.com/foto_velo\" target=\"_blanked\">\r\n            \r\n          </Nav.Link> */}\r\n          <Nav.Link href=\"https://t.me/fotovelo\" target=\"_blanked\">\r\n            <TelegramIconElement />\r\n            Telegram\r\n          </Nav.Link>\r\n        </Nav>\r\n      </NavbarElement>\r\n    </footer>\r\n  );\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\r\n\r\nimport { APP_COLORS } from '../../shared';\r\nimport { HeaderContainer } from './Header';\r\nimport { generateRoutes } from './routerConfig';\r\nimport { useAuthState } from '../../contexts';\r\nimport { Footer } from './Footer/Footer';\r\nimport { useSnackbarContext } from '../../contexts/Snackbar/SnackbarContext';\r\nimport { managementService } from '../../services/management';\r\nimport { authService } from '../../services/auth';\r\n\r\nconst ContentElement = styled.main`\r\n  background-color: ${APP_COLORS.SUPER_LIGHT_GRAY};\r\n  min-height: calc(100% - 58px - 58px);\r\n  width: 100%;\r\n`;\r\n\r\nconst RouterWrapperElement = styled.div`\r\n  width: 80%;\r\n  margin-left: 10%;\r\n  // look up why margin doesnt work\r\n  padding-top: 30px;\r\n  padding-bottom: 2px;\r\n`;\r\n\r\nexport const Main = () => {\r\n  const { isLoggedIn, user } = useAuthState();\r\n  const { setSnackbarStatus } = useSnackbarContext();\r\n\r\n  useEffect(() => {\r\n    [managementService, authService].forEach((service) => {\r\n      service.setSnackbarChanger(setSnackbarStatus);\r\n    });\r\n  }, [setSnackbarStatus]);\r\n\r\n  const routes = generateRoutes(isLoggedIn, user && user.role);\r\n\r\n  return (\r\n    <Router>\r\n      {isLoggedIn && <HeaderContainer />}\r\n      <ContentElement>\r\n        <RouterWrapperElement>\r\n          <Switch>{routes}</Switch>\r\n        </RouterWrapperElement>\r\n      </ContentElement>\r\n      {isLoggedIn && <Footer />}\r\n    </Router>\r\n  );\r\n};\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React from 'react';\r\nimport { AuthProvider } from './contexts';\r\nimport { SnackbarProvider } from './contexts/Snackbar/SnackbarContext';\r\nimport { Main } from './pages/Main';\r\n\r\nfunction App() {\r\n  return (\r\n    <AuthProvider>\r\n      <SnackbarProvider>\r\n        <Main />\r\n      </SnackbarProvider>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}